{
  "evalId": "eval-w2g-2025-12-31T17:14:49",
  "results": {
    "version": 3,
    "timestamp": "2025-12-31T17:14:49.158Z",
    "prompts": [
      {
        "raw": "{{prompt}}",
        "label": "{{prompt}}",
        "id": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "provider": "gemma3:12b",
        "metrics": {
          "score": 21,
          "testPassCount": 21,
          "testFailCount": 0,
          "testErrorCount": 0,
          "assertPassCount": 42,
          "assertFailCount": 0,
          "totalLatencyMs": 487869,
          "tokenUsage": {
            "prompt": 4264,
            "completion": 1554,
            "cached": 0,
            "total": 5818,
            "numRequests": 21,
            "completionDetails": {
              "reasoning": 0,
              "acceptedPrediction": 0,
              "rejectedPrediction": 0
            },
            "assertions": {
              "total": 0,
              "prompt": 0,
              "completion": 0,
              "cached": 0,
              "numRequests": 0,
              "completionDetails": {
                "reasoning": 0,
                "acceptedPrediction": 0,
                "rejectedPrediction": 0
              }
            }
          },
          "namedScores": {},
          "namedScoresCount": {},
          "cost": 0
        }
      },
      {
        "raw": "{{prompt}}",
        "label": "{{prompt}}",
        "id": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "provider": "qwen2.5:7b",
        "metrics": {
          "score": 21,
          "testPassCount": 21,
          "testFailCount": 0,
          "testErrorCount": 0,
          "assertPassCount": 42,
          "assertFailCount": 0,
          "totalLatencyMs": 382557,
          "tokenUsage": {
            "prompt": 4412,
            "completion": 1216,
            "cached": 0,
            "total": 5628,
            "numRequests": 21,
            "completionDetails": {
              "reasoning": 0,
              "acceptedPrediction": 0,
              "rejectedPrediction": 0
            },
            "assertions": {
              "total": 0,
              "prompt": 0,
              "completion": 0,
              "cached": 0,
              "numRequests": 0,
              "completionDetails": {
                "reasoning": 0,
                "acceptedPrediction": 0,
                "rejectedPrediction": 0
              }
            }
          },
          "namedScores": {},
          "namedScoresCount": {},
          "cost": 0
        }
      }
    ],
    "results": [
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'costco' &&\n       json.items.some(i => i.toLowerCase().includes('milk'));\n"
              }
            }
          ]
        },
        "id": "727f06f8-4f80-4b3c-9dbc-0666dfa8ac38",
        "latencyMs": 1694,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nCommon patterns:\n- \"add milk to costco list\" → {\"action\": \"add\", \"list_name\": \"costco\", \"items\": [\"milk\"]}\n- \"add apples and bananas to walmart\" → {\"action\": \"add\", \"list_name\": \"walmart\", \"items\": [\"apples\", \"bananas\"]}\n- \"remove eggs from todo list\" → {\"action\": \"remove\", \"list_name\": \"todo\", \"items\": [\"eggs\"]}\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"add milk to costco\"\n\nAvailable lists: \"Costco\", \"Walmart\", \"Todo\"\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"action\": \"add\",\n  \"list_name\": \"Costco\",\n  \"items\": [\"milk\"]\n}",
          "tokenUsage": {
            "prompt": 292,
            "completion": 27,
            "total": 319
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Voice: Simple addition",
          "vars": {
            "voice_text": "add milk to costco",
            "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
            "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nCommon patterns:\n- \"add milk to costco list\" → {\"action\": \"add\", \"list_name\": \"costco\", \"items\": [\"milk\"]}\n- \"add apples and bananas to walmart\" → {\"action\": \"add\", \"list_name\": \"walmart\", \"items\": [\"apples\", \"bananas\"]}\n- \"remove eggs from todo list\" → {\"action\": \"remove\", \"list_name\": \"todo\", \"items\": [\"eggs\"]}\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'costco' &&\n       json.items.some(i => i.toLowerCase().includes('milk'));\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 0,
        "vars": {
          "voice_text": "add milk to costco",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nCommon patterns:\n- \"add milk to costco list\" → {\"action\": \"add\", \"list_name\": \"costco\", \"items\": [\"milk\"]}\n- \"add apples and bananas to walmart\" → {\"action\": \"add\", \"list_name\": \"walmart\", \"items\": [\"apples\", \"bananas\"]}\n- \"remove eggs from todo list\" → {\"action\": \"remove\", \"list_name\": \"todo\", \"items\": [\"eggs\"]}\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'costco' &&\n       json.items.some(i => i.toLowerCase().includes('milk'));\n"
              }
            }
          ]
        },
        "id": "448692ea-1ab6-4a3d-bd1d-3b69eaa24663",
        "latencyMs": 14523,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nCommon patterns:\n- \"add milk to costco list\" → {\"action\": \"add\", \"list_name\": \"costco\", \"items\": [\"milk\"]}\n- \"add apples and bananas to walmart\" → {\"action\": \"add\", \"list_name\": \"walmart\", \"items\": [\"apples\", \"bananas\"]}\n- \"remove eggs from todo list\" → {\"action\": \"remove\", \"list_name\": \"todo\", \"items\": [\"eggs\"]}\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"add milk to costco\"\n\nAvailable lists: \"Costco\", \"Walmart\", \"Todo\"\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"action\": \"add\",\n  \"list_name\": \"Costco\",\n  \"items\": [\"milk\"]\n}",
          "tokenUsage": {
            "prompt": 292,
            "completion": 36,
            "total": 328
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Voice: Simple addition",
          "vars": {
            "voice_text": "add milk to costco",
            "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
            "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nCommon patterns:\n- \"add milk to costco list\" → {\"action\": \"add\", \"list_name\": \"costco\", \"items\": [\"milk\"]}\n- \"add apples and bananas to walmart\" → {\"action\": \"add\", \"list_name\": \"walmart\", \"items\": [\"apples\", \"bananas\"]}\n- \"remove eggs from todo list\" → {\"action\": \"remove\", \"list_name\": \"todo\", \"items\": [\"eggs\"]}\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'costco' &&\n       json.items.some(i => i.toLowerCase().includes('milk'));\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 0,
        "vars": {
          "voice_text": "add milk to costco",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nCommon patterns:\n- \"add milk to costco list\" → {\"action\": \"add\", \"list_name\": \"costco\", \"items\": [\"milk\"]}\n- \"add apples and bananas to walmart\" → {\"action\": \"add\", \"list_name\": \"walmart\", \"items\": [\"apples\", \"bananas\"]}\n- \"remove eggs from todo list\" → {\"action\": \"remove\", \"list_name\": \"todo\", \"items\": [\"eggs\"]}\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'walmart' &&\n       json.items.length >= 3;\n"
              }
            }
          ]
        },
        "id": "8cb134cc-b432-4cc6-b4d5-d5922cf427f6",
        "latencyMs": 3012,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"add apples bananas and oranges to walmart\"\n\nAvailable lists: \"Costco\", \"Walmart\", \"Todo\"\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"action\": \"add\",\n  \"list_name\": \"Walmart\",\n  \"items\": [\"apples\", \"bananas\", \"oranges\"]\n}",
          "tokenUsage": {
            "prompt": 195,
            "completion": 35,
            "total": 230
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Voice: Multiple items",
          "vars": {
            "voice_text": "add apples bananas and oranges to walmart",
            "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
            "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'walmart' &&\n       json.items.length >= 3;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 1,
        "vars": {
          "voice_text": "add apples bananas and oranges to walmart",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'walmart' &&\n       json.items.length >= 3;\n"
              }
            }
          ]
        },
        "id": "4f272e7d-dff4-4163-aa49-02631c26241c",
        "latencyMs": 10277,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"add apples bananas and oranges to walmart\"\n\nAvailable lists: \"Costco\", \"Walmart\", \"Todo\"\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"action\": \"add\",\n  \"list_name\": \"Walmart\",\n  \"items\": [\"apples\", \"bananas\", \"oranges\"]\n}",
          "tokenUsage": {
            "prompt": 192,
            "completion": 43,
            "total": 235
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Voice: Multiple items",
          "vars": {
            "voice_text": "add apples bananas and oranges to walmart",
            "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
            "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'walmart' &&\n       json.items.length >= 3;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 1,
        "vars": {
          "voice_text": "add apples bananas and oranges to walmart",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'costco';\n"
              }
            }
          ]
        },
        "id": "8b0c1d9e-805c-4961-bc66-d223e8b84619",
        "latencyMs": 16703,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"add eggs to the costco list\"\n\nAvailable lists: \"Costco\", \"Walmart\", \"Todo\"\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"action\": \"add\",\n  \"list_name\": \"Costco\",\n  \"items\": [\"eggs\"]\n}",
          "tokenUsage": {
            "prompt": 192,
            "completion": 36,
            "total": 228
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Voice: Fuzzy list matching",
          "vars": {
            "voice_text": "add eggs to the costco list",
            "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
            "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'costco';\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 2,
        "vars": {
          "voice_text": "add eggs to the costco list",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'costco';\n"
              }
            }
          ]
        },
        "id": "0d746bfd-0db0-47c3-9682-37dbf0ebb7e5",
        "latencyMs": 25882,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"add eggs to the costco list\"\n\nAvailable lists: \"Costco\", \"Walmart\", \"Todo\"\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"action\": \"add\",\n  \"list_name\": \"Costco\",\n  \"items\": [\"eggs\"]\n}",
          "tokenUsage": {
            "prompt": 195,
            "completion": 27,
            "total": 222
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Voice: Fuzzy list matching",
          "vars": {
            "voice_text": "add eggs to the costco list",
            "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
            "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'costco';\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 2,
        "vars": {
          "voice_text": "add eggs to the costco list",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.action === 'remove' &&\n       json.items.some(i => i.toLowerCase().includes('bread'));\n"
              }
            }
          ]
        },
        "id": "1f963f56-a49e-4fe2-aa6c-4e57bf42b424",
        "latencyMs": 11908,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"remove bread from shopping list\"\n\nAvailable lists: \"Costco\", \"Walmart\", \"Shopping List\"\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"action\": \"remove\",\n  \"list_name\": \"Shopping List\",\n  \"items\": [\"bread\"]\n}",
          "tokenUsage": {
            "prompt": 191,
            "completion": 36,
            "total": 227
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Voice: Remove action",
          "vars": {
            "voice_text": "remove bread from shopping list",
            "available_lists": "\"Costco\", \"Walmart\", \"Shopping List\"",
            "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.action === 'remove' &&\n       json.items.some(i => i.toLowerCase().includes('bread'));\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 3,
        "vars": {
          "voice_text": "remove bread from shopping list",
          "available_lists": "\"Costco\", \"Walmart\", \"Shopping List\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.action === 'remove' &&\n       json.items.some(i => i.toLowerCase().includes('bread'));\n"
              }
            }
          ]
        },
        "id": "3b428387-7d96-46de-a866-151772d1bba7",
        "latencyMs": 15353,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"remove bread from shopping list\"\n\nAvailable lists: \"Costco\", \"Walmart\", \"Shopping List\"\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"action\": \"remove\",\n  \"list_name\": \"Shopping List\",\n  \"items\": [\"bread\"]\n}",
          "tokenUsage": {
            "prompt": 194,
            "completion": 26,
            "total": 220
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Voice: Remove action",
          "vars": {
            "voice_text": "remove bread from shopping list",
            "available_lists": "\"Costco\", \"Walmart\", \"Shopping List\"",
            "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.action === 'remove' &&\n       json.items.some(i => i.toLowerCase().includes('bread'));\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 3,
        "vars": {
          "voice_text": "remove bread from shopping list",
          "available_lists": "\"Costco\", \"Walmart\", \"Shopping List\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'todo';\n"
              }
            }
          ]
        },
        "id": "2239ecb2-3c21-465d-bf81-d34ab115b80a",
        "latencyMs": 7477,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"add butter\"\n\nAvailable lists: \"Costco\", \"Walmart\", \"Todo\"\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"action\": \"add\",\n  \"list_name\": \"Todo\",\n  \"items\": [\"butter\"]\n}",
          "tokenUsage": {
            "prompt": 187,
            "completion": 35,
            "total": 222
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Voice: Default to todo list",
          "vars": {
            "voice_text": "add butter",
            "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
            "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'todo';\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 4,
        "vars": {
          "voice_text": "add butter",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'todo';\n"
              }
            }
          ]
        },
        "id": "e5fade06-3a32-43a7-93c6-335d5f7f4788",
        "latencyMs": 8663,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"add butter\"\n\nAvailable lists: \"Costco\", \"Walmart\", \"Todo\"\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"action\": \"add\",\n  \"list_name\": \"Todo\",\n  \"items\": [\"butter\"]\n}",
          "tokenUsage": {
            "prompt": 190,
            "completion": 26,
            "total": 216
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Voice: Default to todo list",
          "vars": {
            "voice_text": "add butter",
            "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
            "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'todo';\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 4,
        "vars": {
          "voice_text": "add butter",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.action === 'add' && json.items.length === 2;\n"
              }
            }
          ]
        },
        "id": "ce56a31d-bf02-4e77-b508-4d6345143ef4",
        "latencyMs": 3193,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"add olive oil and balsamic vinegar to costco\"\n\nAvailable lists: \"Costco\", \"Walmart\", \"Todo\"\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"action\": \"add\",\n  \"list_name\": \"Costco\",\n  \"items\": [\"olive oil\", \"balsamic vinegar\"]\n}",
          "tokenUsage": {
            "prompt": 199,
            "completion": 34,
            "total": 233
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Voice: Compound items",
          "vars": {
            "voice_text": "add olive oil and balsamic vinegar to costco",
            "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
            "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.action === 'add' && json.items.length === 2;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 5,
        "vars": {
          "voice_text": "add olive oil and balsamic vinegar to costco",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.action === 'add' && json.items.length === 2;\n"
              }
            }
          ]
        },
        "id": "bdd46ee8-a31b-41da-a970-f3521e83e6f8",
        "latencyMs": 14721,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"add olive oil and balsamic vinegar to costco\"\n\nAvailable lists: \"Costco\", \"Walmart\", \"Todo\"\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"action\": \"add\",\n  \"list_name\": \"Costco\",\n  \"items\": [\"olive oil\", \"balsamic vinegar\"]\n}",
          "tokenUsage": {
            "prompt": 194,
            "completion": 43,
            "total": 237
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Voice: Compound items",
          "vars": {
            "voice_text": "add olive oil and balsamic vinegar to costco",
            "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
            "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.action === 'add' && json.items.length === 2;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 5,
        "vars": {
          "voice_text": "add olive oil and balsamic vinegar to costco",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'walmart' &&\n       json.items.length >= 2;\n"
              }
            }
          ]
        },
        "id": "0a40437e-7bdf-4acd-9e0b-dcd725dc4186",
        "latencyMs": 2412,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"I need to pick up some chicken breast and ground beef at walmart\"\n\nAvailable lists: \"Costco\", \"Walmart\", \"Todo\"\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"action\": \"add\",\n  \"list_name\": \"Walmart\",\n  \"items\": [\"chicken breast\", \"ground beef\"]\n}",
          "tokenUsage": {
            "prompt": 201,
            "completion": 32,
            "total": 233
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Voice: Natural language phrasing",
          "vars": {
            "voice_text": "I need to pick up some chicken breast and ground beef at walmart",
            "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
            "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'walmart' &&\n       json.items.length >= 2;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 6,
        "vars": {
          "voice_text": "I need to pick up some chicken breast and ground beef at walmart",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'walmart' &&\n       json.items.length >= 2;\n"
              }
            }
          ]
        },
        "id": "57d18f52-82f3-44b6-a4f5-547245154287",
        "latencyMs": 14886,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"I need to pick up some chicken breast and ground beef at walmart\"\n\nAvailable lists: \"Costco\", \"Walmart\", \"Todo\"\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"action\": \"add\",\n  \"list_name\": \"Walmart\",\n  \"items\": [\"chicken breast\", \"ground beef\"]\n}",
          "tokenUsage": {
            "prompt": 198,
            "completion": 40,
            "total": 238
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Voice: Natural language phrasing",
          "vars": {
            "voice_text": "I need to pick up some chicken breast and ground beef at walmart",
            "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
            "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'walmart' &&\n       json.items.length >= 2;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 6,
        "vars": {
          "voice_text": "I need to pick up some chicken breast and ground beef at walmart",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.category_id === 1 && json.confidence >= 0.7;\n"
              }
            }
          ]
        },
        "id": "ac14ae45-eb12-40e2-acca-f26dbe8e9c01",
        "latencyMs": 18831,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list categorization assistant.\n\nGiven an item name, list of categories with their historical items, suggest the best category.\n\nConsider:\n1. Historical patterns (items previously in each category)\n2. Semantic similarity (e.g., \"milk\" goes with \"dairy\")\n3. Store layout context (categories are often store sections)\n\nImportant distinctions:\n- PANTRY: Dried spices, dried herbs, and seasonings, canned goods, dry goods, oils, vinegars\n- PRODUCE: Fresh fruits, fresh vegetables, fresh herbs only if specified as \"fresh\"\n- When ambiguous (e.g., \"coriander\" without \"fresh\"), prefer Pantry for herbs/spices\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nIf confidence < 0.5, set category_id to null for manual confirmation.\n\nItem to categorize: \"milk\"\n\nAvailable categories:\n- ID 1: Dairy (past items: yogurt, cheese, butter, cream)\n- ID 2: Produce (past items: apples, lettuce, tomatoes, bananas)\n- ID 3: Pantry (past items: rice, pasta, olive oil, canned beans)\n- ID 4: Meat (past items: chicken breast, ground beef, bacon)\n\nWhich category best fits this item? Respond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"category_id\": 1,\n  \"confidence\": 0.95,\n  \"reasoning\": \"Milk is a staple dairy product and aligns with the historical items in the Dairy category.\"\n}",
          "tokenUsage": {
            "prompt": 323,
            "completion": 54,
            "total": 377
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Category: Clear dairy (milk)",
          "vars": {
            "item_name": "milk",
            "categories": "- ID 1: Dairy (past items: yogurt, cheese, butter, cream)\n- ID 2: Produce (past items: apples, lettuce, tomatoes, bananas)\n- ID 3: Pantry (past items: rice, pasta, olive oil, canned beans)\n- ID 4: Meat (past items: chicken breast, ground beef, bacon)\n",
            "prompt": "You are a shopping list categorization assistant.\n\nGiven an item name, list of categories with their historical items, suggest the best category.\n\nConsider:\n1. Historical patterns (items previously in each category)\n2. Semantic similarity (e.g., \"milk\" goes with \"dairy\")\n3. Store layout context (categories are often store sections)\n\nImportant distinctions:\n- PANTRY: Dried spices, dried herbs, and seasonings, canned goods, dry goods, oils, vinegars\n- PRODUCE: Fresh fruits, fresh vegetables, fresh herbs only if specified as \"fresh\"\n- When ambiguous (e.g., \"coriander\" without \"fresh\"), prefer Pantry for herbs/spices\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nIf confidence < 0.5, set category_id to null for manual confirmation.\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.category_id === 1 && json.confidence >= 0.7;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 7,
        "vars": {
          "item_name": "milk",
          "categories": "- ID 1: Dairy (past items: yogurt, cheese, butter, cream)\n- ID 2: Produce (past items: apples, lettuce, tomatoes, bananas)\n- ID 3: Pantry (past items: rice, pasta, olive oil, canned beans)\n- ID 4: Meat (past items: chicken breast, ground beef, bacon)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nGiven an item name, list of categories with their historical items, suggest the best category.\n\nConsider:\n1. Historical patterns (items previously in each category)\n2. Semantic similarity (e.g., \"milk\" goes with \"dairy\")\n3. Store layout context (categories are often store sections)\n\nImportant distinctions:\n- PANTRY: Dried spices, dried herbs, and seasonings, canned goods, dry goods, oils, vinegars\n- PRODUCE: Fresh fruits, fresh vegetables, fresh herbs only if specified as \"fresh\"\n- When ambiguous (e.g., \"coriander\" without \"fresh\"), prefer Pantry for herbs/spices\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nIf confidence < 0.5, set category_id to null for manual confirmation.\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.category_id === 1 && json.confidence >= 0.7;\n"
              }
            }
          ]
        },
        "id": "413e2646-fcbb-4b25-92b8-6b0f8334ba0e",
        "latencyMs": 31854,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list categorization assistant.\n\nGiven an item name, list of categories with their historical items, suggest the best category.\n\nConsider:\n1. Historical patterns (items previously in each category)\n2. Semantic similarity (e.g., \"milk\" goes with \"dairy\")\n3. Store layout context (categories are often store sections)\n\nImportant distinctions:\n- PANTRY: Dried spices, dried herbs, and seasonings, canned goods, dry goods, oils, vinegars\n- PRODUCE: Fresh fruits, fresh vegetables, fresh herbs only if specified as \"fresh\"\n- When ambiguous (e.g., \"coriander\" without \"fresh\"), prefer Pantry for herbs/spices\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nIf confidence < 0.5, set category_id to null for manual confirmation.\n\nItem to categorize: \"milk\"\n\nAvailable categories:\n- ID 1: Dairy (past items: yogurt, cheese, butter, cream)\n- ID 2: Produce (past items: apples, lettuce, tomatoes, bananas)\n- ID 3: Pantry (past items: rice, pasta, olive oil, canned beans)\n- ID 4: Meat (past items: chicken breast, ground beef, bacon)\n\nWhich category best fits this item? Respond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"category_id\": 1,\n  \"confidence\": 0.95,\n  \"reasoning\": \"Milk is a dairy product and semantically similar to other dairy items like yogurt, cheese.\"\n}",
          "tokenUsage": {
            "prompt": 327,
            "completion": 46,
            "total": 373
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Category: Clear dairy (milk)",
          "vars": {
            "item_name": "milk",
            "categories": "- ID 1: Dairy (past items: yogurt, cheese, butter, cream)\n- ID 2: Produce (past items: apples, lettuce, tomatoes, bananas)\n- ID 3: Pantry (past items: rice, pasta, olive oil, canned beans)\n- ID 4: Meat (past items: chicken breast, ground beef, bacon)\n",
            "prompt": "You are a shopping list categorization assistant.\n\nGiven an item name, list of categories with their historical items, suggest the best category.\n\nConsider:\n1. Historical patterns (items previously in each category)\n2. Semantic similarity (e.g., \"milk\" goes with \"dairy\")\n3. Store layout context (categories are often store sections)\n\nImportant distinctions:\n- PANTRY: Dried spices, dried herbs, and seasonings, canned goods, dry goods, oils, vinegars\n- PRODUCE: Fresh fruits, fresh vegetables, fresh herbs only if specified as \"fresh\"\n- When ambiguous (e.g., \"coriander\" without \"fresh\"), prefer Pantry for herbs/spices\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nIf confidence < 0.5, set category_id to null for manual confirmation.\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.category_id === 1 && json.confidence >= 0.7;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 7,
        "vars": {
          "item_name": "milk",
          "categories": "- ID 1: Dairy (past items: yogurt, cheese, butter, cream)\n- ID 2: Produce (past items: apples, lettuce, tomatoes, bananas)\n- ID 3: Pantry (past items: rice, pasta, olive oil, canned beans)\n- ID 4: Meat (past items: chicken breast, ground beef, bacon)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nGiven an item name, list of categories with their historical items, suggest the best category.\n\nConsider:\n1. Historical patterns (items previously in each category)\n2. Semantic similarity (e.g., \"milk\" goes with \"dairy\")\n3. Store layout context (categories are often store sections)\n\nImportant distinctions:\n- PANTRY: Dried spices, dried herbs, and seasonings, canned goods, dry goods, oils, vinegars\n- PRODUCE: Fresh fruits, fresh vegetables, fresh herbs only if specified as \"fresh\"\n- When ambiguous (e.g., \"coriander\" without \"fresh\"), prefer Pantry for herbs/spices\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nIf confidence < 0.5, set category_id to null for manual confirmation.\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.category_id === 2 && json.confidence >= 0.7;\n"
              }
            }
          ]
        },
        "id": "90459c3a-6592-4cf9-8e14-f8950f065a0d",
        "latencyMs": 15593,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list categorization assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"bananas\"\n\nAvailable categories:\n- ID 1: Dairy (past items: milk, yogurt, cheese)\n- ID 2: Produce (past items: apples, lettuce, tomatoes)\n- ID 3: Pantry (past items: rice, pasta, olive oil)\n- ID 4: Meat (past items: chicken, beef, pork)\n\nWhich category best fits this item? Respond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"category_id\": 2,\n  \"confidence\": 0.95,\n  \"reasoning\": \"Bananas are a fruit and therefore belong to the Produce category.\"\n}",
          "tokenUsage": {
            "prompt": 158,
            "completion": 50,
            "total": 208
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Category: Clear produce (bananas)",
          "vars": {
            "item_name": "bananas",
            "categories": "- ID 1: Dairy (past items: milk, yogurt, cheese)\n- ID 2: Produce (past items: apples, lettuce, tomatoes)\n- ID 3: Pantry (past items: rice, pasta, olive oil)\n- ID 4: Meat (past items: chicken, beef, pork)\n",
            "prompt": "You are a shopping list categorization assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.category_id === 2 && json.confidence >= 0.7;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 8,
        "vars": {
          "item_name": "bananas",
          "categories": "- ID 1: Dairy (past items: milk, yogurt, cheese)\n- ID 2: Produce (past items: apples, lettuce, tomatoes)\n- ID 3: Pantry (past items: rice, pasta, olive oil)\n- ID 4: Meat (past items: chicken, beef, pork)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.category_id === 2 && json.confidence >= 0.7;\n"
              }
            }
          ]
        },
        "id": "26b2e891-b955-4887-a68a-64fa346ee00e",
        "latencyMs": 21915,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list categorization assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"bananas\"\n\nAvailable categories:\n- ID 1: Dairy (past items: milk, yogurt, cheese)\n- ID 2: Produce (past items: apples, lettuce, tomatoes)\n- ID 3: Pantry (past items: rice, pasta, olive oil)\n- ID 4: Meat (past items: chicken, beef, pork)\n\nWhich category best fits this item? Respond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"category_id\": 2,\n  \"confidence\": 0.95,\n  \"reasoning\": \"Bananas are a type of fruit and fall under the produce category.\"\n}",
          "tokenUsage": {
            "prompt": 167,
            "completion": 41,
            "total": 208
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Category: Clear produce (bananas)",
          "vars": {
            "item_name": "bananas",
            "categories": "- ID 1: Dairy (past items: milk, yogurt, cheese)\n- ID 2: Produce (past items: apples, lettuce, tomatoes)\n- ID 3: Pantry (past items: rice, pasta, olive oil)\n- ID 4: Meat (past items: chicken, beef, pork)\n",
            "prompt": "You are a shopping list categorization assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.category_id === 2 && json.confidence >= 0.7;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 8,
        "vars": {
          "item_name": "bananas",
          "categories": "- ID 1: Dairy (past items: milk, yogurt, cheese)\n- ID 2: Produce (past items: apples, lettuce, tomatoes)\n- ID 3: Pantry (past items: rice, pasta, olive oil)\n- ID 4: Meat (past items: chicken, beef, pork)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.category_id === 3;\n"
              }
            }
          ]
        },
        "id": "6e47efd8-32e6-4d7b-9aac-d06c192f4c14",
        "latencyMs": 10337,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list categorization assistant.\n\nImportant: Dried spices and herbs (oregano, paprika, cumin) go in Pantry. Only \"fresh X\" goes in Produce.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"oregano\"\n\nAvailable categories:\n- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce, fresh basil)\n- ID 3: Pantry (past items: paprika, cumin, cinnamon, olive oil)\n- ID 4: Meat (past items: chicken, beef)\n\nWhich category best fits this item? Respond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"category_id\": 3,\n  \"confidence\": 1.0,\n  \"reasoning\": \"Dried oregano is a spice and belongs in the Pantry.\"\n}",
          "tokenUsage": {
            "prompt": 185,
            "completion": 47,
            "total": 232
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Category: Dried herb to Pantry (oregano)",
          "vars": {
            "item_name": "oregano",
            "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce, fresh basil)\n- ID 3: Pantry (past items: paprika, cumin, cinnamon, olive oil)\n- ID 4: Meat (past items: chicken, beef)\n",
            "prompt": "You are a shopping list categorization assistant.\n\nImportant: Dried spices and herbs (oregano, paprika, cumin) go in Pantry. Only \"fresh X\" goes in Produce.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.category_id === 3;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 9,
        "vars": {
          "item_name": "oregano",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce, fresh basil)\n- ID 3: Pantry (past items: paprika, cumin, cinnamon, olive oil)\n- ID 4: Meat (past items: chicken, beef)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nImportant: Dried spices and herbs (oregano, paprika, cumin) go in Pantry. Only \"fresh X\" goes in Produce.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.category_id === 3;\n"
              }
            }
          ]
        },
        "id": "ea013929-5152-44bf-be10-362d090ad3dc",
        "latencyMs": 12296,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list categorization assistant.\n\nImportant: Dried spices and herbs (oregano, paprika, cumin) go in Pantry. Only \"fresh X\" goes in Produce.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"oregano\"\n\nAvailable categories:\n- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce, fresh basil)\n- ID 3: Pantry (past items: paprika, cumin, cinnamon, olive oil)\n- ID 4: Meat (past items: chicken, beef)\n\nWhich category best fits this item? Respond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"category_id\": 3,\n  \"confidence\": 1.0,\n  \"reasoning\": \"Oregano is a dried spice and herb, which aligns with the past items categorized under Pantry.\"\n}",
          "tokenUsage": {
            "prompt": 201,
            "completion": 48,
            "total": 249
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Category: Dried herb to Pantry (oregano)",
          "vars": {
            "item_name": "oregano",
            "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce, fresh basil)\n- ID 3: Pantry (past items: paprika, cumin, cinnamon, olive oil)\n- ID 4: Meat (past items: chicken, beef)\n",
            "prompt": "You are a shopping list categorization assistant.\n\nImportant: Dried spices and herbs (oregano, paprika, cumin) go in Pantry. Only \"fresh X\" goes in Produce.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.category_id === 3;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 9,
        "vars": {
          "item_name": "oregano",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce, fresh basil)\n- ID 3: Pantry (past items: paprika, cumin, cinnamon, olive oil)\n- ID 4: Meat (past items: chicken, beef)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nImportant: Dried spices and herbs (oregano, paprika, cumin) go in Pantry. Only \"fresh X\" goes in Produce.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.category_id === 2;\n"
              }
            }
          ]
        },
        "id": "eb0a17e5-7241-47c6-9b16-41a7d9b00904",
        "latencyMs": 5162,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list categorization assistant.\n\nImportant: Items labeled \"fresh X\" go in Produce. Dried herbs go in Pantry.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"fresh basil\"\n\nAvailable categories:\n- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce, tomatoes, fresh cilantro)\n- ID 3: Pantry (past items: dried basil, oregano, cumin)\n- ID 4: Meat (past items: chicken, beef)\n\nWhich category best fits this item? Respond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"category_id\": 2,\n  \"confidence\": 1.0,\n  \"reasoning\": \"The item 'fresh basil' is explicitly labeled as 'fresh', which places it in the Produce category.\"\n}",
          "tokenUsage": {
            "prompt": 190,
            "completion": 47,
            "total": 237
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Category: Fresh herb to Produce",
          "vars": {
            "item_name": "fresh basil",
            "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce, tomatoes, fresh cilantro)\n- ID 3: Pantry (past items: dried basil, oregano, cumin)\n- ID 4: Meat (past items: chicken, beef)\n",
            "prompt": "You are a shopping list categorization assistant.\n\nImportant: Items labeled \"fresh X\" go in Produce. Dried herbs go in Pantry.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.category_id === 2;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 10,
        "vars": {
          "item_name": "fresh basil",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce, tomatoes, fresh cilantro)\n- ID 3: Pantry (past items: dried basil, oregano, cumin)\n- ID 4: Meat (past items: chicken, beef)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nImportant: Items labeled \"fresh X\" go in Produce. Dried herbs go in Pantry.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.category_id === 2;\n"
              }
            }
          ]
        },
        "id": "275d0569-6c15-432c-b34e-cd9026ca11a2",
        "latencyMs": 19257,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list categorization assistant.\n\nImportant: Items labeled \"fresh X\" go in Produce. Dried herbs go in Pantry.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"fresh basil\"\n\nAvailable categories:\n- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce, tomatoes, fresh cilantro)\n- ID 3: Pantry (past items: dried basil, oregano, cumin)\n- ID 4: Meat (past items: chicken, beef)\n\nWhich category best fits this item? Respond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"category_id\": 2,\n  \"confidence\": 0.95,\n  \"reasoning\": \"Item is 'fresh basil', which aligns with the Produce category based on past items like fresh cilantro.\"\n}",
          "tokenUsage": {
            "prompt": 176,
            "completion": 57,
            "total": 233
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Category: Fresh herb to Produce",
          "vars": {
            "item_name": "fresh basil",
            "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce, tomatoes, fresh cilantro)\n- ID 3: Pantry (past items: dried basil, oregano, cumin)\n- ID 4: Meat (past items: chicken, beef)\n",
            "prompt": "You are a shopping list categorization assistant.\n\nImportant: Items labeled \"fresh X\" go in Produce. Dried herbs go in Pantry.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.category_id === 2;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 10,
        "vars": {
          "item_name": "fresh basil",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce, tomatoes, fresh cilantro)\n- ID 3: Pantry (past items: dried basil, oregano, cumin)\n- ID 4: Meat (past items: chicken, beef)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nImportant: Items labeled \"fresh X\" go in Produce. Dried herbs go in Pantry.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.category_id === 3;\n"
              }
            }
          ]
        },
        "id": "cec7e48d-a3a3-4a5b-a8b9-3942d1f1e879",
        "latencyMs": 3444,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list categorization assistant.\n\nImportant: When herb name is ambiguous (no \"fresh\" qualifier), prefer Pantry since dried is more common on shopping lists.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"coriander\"\n\nAvailable categories:\n- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, fresh cilantro)\n- ID 3: Pantry (past items: cumin, paprika, dried herbs)\n- ID 4: Meat (past items: chicken, beef)\n\nWhich category best fits this item? Respond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"category_id\": 3,\n  \"confidence\": 0.8,\n  \"reasoning\": \"Coriander is typically a dried herb and thus more commonly found in the pantry.\"\n}",
          "tokenUsage": {
            "prompt": 192,
            "completion": 43,
            "total": 235
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Category: Ambiguous herb prefers Pantry (coriander)",
          "vars": {
            "item_name": "coriander",
            "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, fresh cilantro)\n- ID 3: Pantry (past items: cumin, paprika, dried herbs)\n- ID 4: Meat (past items: chicken, beef)\n",
            "prompt": "You are a shopping list categorization assistant.\n\nImportant: When herb name is ambiguous (no \"fresh\" qualifier), prefer Pantry since dried is more common on shopping lists.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.category_id === 3;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 11,
        "vars": {
          "item_name": "coriander",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, fresh cilantro)\n- ID 3: Pantry (past items: cumin, paprika, dried herbs)\n- ID 4: Meat (past items: chicken, beef)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nImportant: When herb name is ambiguous (no \"fresh\" qualifier), prefer Pantry since dried is more common on shopping lists.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.category_id === 3;\n"
              }
            }
          ]
        },
        "id": "1ec23bf4-1993-433f-b108-0c1fbf4a40f6",
        "latencyMs": 22000,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list categorization assistant.\n\nImportant: When herb name is ambiguous (no \"fresh\" qualifier), prefer Pantry since dried is more common on shopping lists.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"coriander\"\n\nAvailable categories:\n- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, fresh cilantro)\n- ID 3: Pantry (past items: cumin, paprika, dried herbs)\n- ID 4: Meat (past items: chicken, beef)\n\nWhich category best fits this item? Respond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"category_id\": 3,\n  \"confidence\": 0.9,\n  \"reasoning\": \"Coriander is commonly used as a dried spice (coriander seeds) and often appears on shopping lists in that form. Without a 'fresh' qualifier, it's more likely to be a pantry item.\"\n}",
          "tokenUsage": {
            "prompt": 180,
            "completion": 80,
            "total": 260
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Category: Ambiguous herb prefers Pantry (coriander)",
          "vars": {
            "item_name": "coriander",
            "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, fresh cilantro)\n- ID 3: Pantry (past items: cumin, paprika, dried herbs)\n- ID 4: Meat (past items: chicken, beef)\n",
            "prompt": "You are a shopping list categorization assistant.\n\nImportant: When herb name is ambiguous (no \"fresh\" qualifier), prefer Pantry since dried is more common on shopping lists.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.category_id === 3;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 11,
        "vars": {
          "item_name": "coriander",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, fresh cilantro)\n- ID 3: Pantry (past items: cumin, paprika, dried herbs)\n- ID 4: Meat (past items: chicken, beef)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nImportant: When herb name is ambiguous (no \"fresh\" qualifier), prefer Pantry since dried is more common on shopping lists.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.category_id === 4 && json.confidence >= 0.7;\n"
              }
            }
          ]
        },
        "id": "820d3363-9ae9-44e6-b513-4493d08aa3c8",
        "latencyMs": 23200,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list categorization assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"chicken thighs\"\n\nAvailable categories:\n- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce)\n- ID 3: Pantry (past items: rice, pasta)\n- ID 4: Meat (past items: chicken breast, ground beef, pork chops)\n\nWhich category best fits this item? Respond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"category_id\": 4,\n  \"confidence\": 0.95,\n  \"reasoning\": \"Chicken thighs are a type of meat.\"\n}",
          "tokenUsage": {
            "prompt": 154,
            "completion": 45,
            "total": 199
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Category: Meat item (chicken thighs)",
          "vars": {
            "item_name": "chicken thighs",
            "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce)\n- ID 3: Pantry (past items: rice, pasta)\n- ID 4: Meat (past items: chicken breast, ground beef, pork chops)\n",
            "prompt": "You are a shopping list categorization assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.category_id === 4 && json.confidence >= 0.7;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 12,
        "vars": {
          "item_name": "chicken thighs",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce)\n- ID 3: Pantry (past items: rice, pasta)\n- ID 4: Meat (past items: chicken breast, ground beef, pork chops)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.category_id === 4 && json.confidence >= 0.7;\n"
              }
            }
          ]
        },
        "id": "f2f2a366-a5f6-4f27-83d5-755e7775aa48",
        "latencyMs": 35440,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list categorization assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"chicken thighs\"\n\nAvailable categories:\n- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce)\n- ID 3: Pantry (past items: rice, pasta)\n- ID 4: Meat (past items: chicken breast, ground beef, pork chops)\n\nWhich category best fits this item? Respond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"category_id\": 4,\n  \"confidence\": 0.95,\n  \"reasoning\": \"Chicken thighs are a type of poultry meat, which aligns closely with the 'Meat' category.\"\n}",
          "tokenUsage": {
            "prompt": 164,
            "completion": 48,
            "total": 212
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Category: Meat item (chicken thighs)",
          "vars": {
            "item_name": "chicken thighs",
            "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce)\n- ID 3: Pantry (past items: rice, pasta)\n- ID 4: Meat (past items: chicken breast, ground beef, pork chops)\n",
            "prompt": "You are a shopping list categorization assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.category_id === 4 && json.confidence >= 0.7;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 12,
        "vars": {
          "item_name": "chicken thighs",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce)\n- ID 3: Pantry (past items: rice, pasta)\n- ID 4: Meat (past items: chicken breast, ground beef, pork chops)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.category_id === 3 && json.confidence >= 0.7;\n"
              }
            }
          ]
        },
        "id": "0235edf2-f9c1-47dd-8efd-174b80e8f11e",
        "latencyMs": 18310,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list categorization assistant.\n\nImportant: Oils go in Pantry, not Produce (even if derived from produce items).\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"avocado oil\"\n\nAvailable categories:\n- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: avocado, lettuce)\n- ID 3: Pantry (past items: olive oil, vegetable oil, coconut oil)\n- ID 4: Meat (past items: chicken, beef)\n\nWhich category best fits this item? Respond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"category_id\": 3,\n  \"confidence\": 0.95,\n  \"reasoning\": \"Oils are categorized as Pantry items, regardless of their origin.\"\n}",
          "tokenUsage": {
            "prompt": 173,
            "completion": 50,
            "total": 223
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Category: Oil to Pantry",
          "vars": {
            "item_name": "avocado oil",
            "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: avocado, lettuce)\n- ID 3: Pantry (past items: olive oil, vegetable oil, coconut oil)\n- ID 4: Meat (past items: chicken, beef)\n",
            "prompt": "You are a shopping list categorization assistant.\n\nImportant: Oils go in Pantry, not Produce (even if derived from produce items).\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.category_id === 3 && json.confidence >= 0.7;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 13,
        "vars": {
          "item_name": "avocado oil",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: avocado, lettuce)\n- ID 3: Pantry (past items: olive oil, vegetable oil, coconut oil)\n- ID 4: Meat (past items: chicken, beef)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nImportant: Oils go in Pantry, not Produce (even if derived from produce items).\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.category_id === 3 && json.confidence >= 0.7;\n"
              }
            }
          ]
        },
        "id": "50649efb-4b5c-4d5b-a7ec-f20a56d4a6f6",
        "latencyMs": 20584,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list categorization assistant.\n\nImportant: Oils go in Pantry, not Produce (even if derived from produce items).\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"avocado oil\"\n\nAvailable categories:\n- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: avocado, lettuce)\n- ID 3: Pantry (past items: olive oil, vegetable oil, coconut oil)\n- ID 4: Meat (past items: chicken, beef)\n\nWhich category best fits this item? Respond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"category_id\": 3,\n  \"confidence\": 0.95,\n  \"reasoning\": \"Avocado oil is derived from avocados but is typically stored and used like other cooking oils in the pantry.\"\n}",
          "tokenUsage": {
            "prompt": 183,
            "completion": 50,
            "total": 233
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Category: Oil to Pantry",
          "vars": {
            "item_name": "avocado oil",
            "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: avocado, lettuce)\n- ID 3: Pantry (past items: olive oil, vegetable oil, coconut oil)\n- ID 4: Meat (past items: chicken, beef)\n",
            "prompt": "You are a shopping list categorization assistant.\n\nImportant: Oils go in Pantry, not Produce (even if derived from produce items).\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.category_id === 3 && json.confidence >= 0.7;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 13,
        "vars": {
          "item_name": "avocado oil",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: avocado, lettuce)\n- ID 3: Pantry (past items: olive oil, vegetable oil, coconut oil)\n- ID 4: Meat (past items: chicken, beef)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nImportant: Oils go in Pantry, not Produce (even if derived from produce items).\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.category_id === 3 && json.confidence >= 0.7;\n"
              }
            }
          ]
        },
        "id": "973d986a-8b06-44d8-888d-097afa5bdfee",
        "latencyMs": 10309,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list categorization assistant.\n\nImportant: Canned goods go in Pantry, not Produce (even if the item is a vegetable).\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"canned tomatoes\"\n\nAvailable categories:\n- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: fresh tomatoes, lettuce)\n- ID 3: Pantry (past items: canned beans, canned corn, rice)\n- ID 4: Meat (past items: chicken, beef)\n\nWhich category best fits this item? Respond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"category_id\": 3,\n  \"confidence\": 0.95,\n  \"reasoning\": \"Canned goods are categorized as Pantry items.\"\n}",
          "tokenUsage": {
            "prompt": 176,
            "completion": 46,
            "total": 222
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Category: Canned goods to Pantry",
          "vars": {
            "item_name": "canned tomatoes",
            "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: fresh tomatoes, lettuce)\n- ID 3: Pantry (past items: canned beans, canned corn, rice)\n- ID 4: Meat (past items: chicken, beef)\n",
            "prompt": "You are a shopping list categorization assistant.\n\nImportant: Canned goods go in Pantry, not Produce (even if the item is a vegetable).\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.category_id === 3 && json.confidence >= 0.7;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 14,
        "vars": {
          "item_name": "canned tomatoes",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: fresh tomatoes, lettuce)\n- ID 3: Pantry (past items: canned beans, canned corn, rice)\n- ID 4: Meat (past items: chicken, beef)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nImportant: Canned goods go in Pantry, not Produce (even if the item is a vegetable).\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.category_id === 3 && json.confidence >= 0.7;\n"
              }
            }
          ]
        },
        "id": "49ebebfe-9191-4184-b4a9-26060d391a1b",
        "latencyMs": 12381,
        "namedScores": {},
        "prompt": {
          "raw": "You are a shopping list categorization assistant.\n\nImportant: Canned goods go in Pantry, not Produce (even if the item is a vegetable).\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"canned tomatoes\"\n\nAvailable categories:\n- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: fresh tomatoes, lettuce)\n- ID 3: Pantry (past items: canned beans, canned corn, rice)\n- ID 4: Meat (past items: chicken, beef)\n\nWhich category best fits this item? Respond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"category_id\": 3,\n  \"confidence\": 0.95,\n  \"reasoning\": \"Canned tomatoes are typically stored in the pantry as they are non-perishable and do not belong in the produce section.\"\n}",
          "tokenUsage": {
            "prompt": 185,
            "completion": 52,
            "total": 237
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Category: Canned goods to Pantry",
          "vars": {
            "item_name": "canned tomatoes",
            "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: fresh tomatoes, lettuce)\n- ID 3: Pantry (past items: canned beans, canned corn, rice)\n- ID 4: Meat (past items: chicken, beef)\n",
            "prompt": "You are a shopping list categorization assistant.\n\nImportant: Canned goods go in Pantry, not Produce (even if the item is a vegetable).\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.category_id === 3 && json.confidence >= 0.7;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 14,
        "vars": {
          "item_name": "canned tomatoes",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: fresh tomatoes, lettuce)\n- ID 3: Pantry (past items: canned beans, canned corn, rice)\n- ID 4: Meat (past items: chicken, beef)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nImportant: Canned goods go in Pantry, not Produce (even if the item is a vegetable).\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.name &&\n       json.servings === 4 &&\n       json.ingredients.length >= 5 &&\n       json.instructions.includes('1.');\n"
              }
            }
          ]
        },
        "id": "15026bd6-09ce-45c0-8476-0a0aeb5d3b15",
        "latencyMs": 11332,
        "namedScores": {},
        "prompt": {
          "raw": "You are a recipe parsing assistant. Extract structured data from free-form recipe text.\n\nExtract:\n- name: The recipe title\n- servings: Number of servings (integer or null if not specified)\n- ingredients: Array of {name, quantity, description} objects\n- instructions: The cooking steps as markdown\n\nIngredient field rules:\n- name: The ingredient name only (e.g., \"flour\", \"butter\")\n- quantity: Numeric amount + unit (e.g., \"2 cups\", \"1 lb\"). Use \"Tbsp\" not \"tablespoon\", \"tsp\" not \"teaspoon\". Set to null if no specific amount.\n- description: Preparation notes (e.g., \"melted\", \"finely chopped\"). Set to null if none.\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nParse this recipe:\n---\nClassic Pancakes\nServes 4\n\nIngredients:\n- 1 cup all-purpose flour\n- 2 tablespoons sugar\n- 1 teaspoon baking powder\n- 1 cup milk\n- 1 egg\n- 2 tablespoons melted butter\n\nInstructions:\n1. Mix dry ingredients in a bowl.\n2. Add milk, egg, and melted butter.\n3. Whisk until smooth.\n4. Cook on a greased griddle until bubbles form.\n5. Flip and cook until golden brown.\n---\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"name\": \"Classic Pancakes\",\n  \"servings\": 4,\n  \"ingredients\": [\n    {\"name\": \"all-purpose flour\", \"quantity\": \"1 cup\", \"description\": null},\n    {\"name\": \"sugar\", \"quantity\": \"2 tablespoons\", \"description\": null},\n    {\"name\": \"baking powder\", \"quantity\": \"1 teaspoon\", \"description\": null},\n    {\"name\": \"milk\", \"quantity\": \"1 cup\", \"description\": null},\n    {\"name\": \"egg\", \"quantity\": \"1\", \"description\": null},\n    {\"name\": \"butter\", \"quantity\": \"2 tablespoons\", \"description\": \"melted\"}\n  ],\n  \"instructions\": \"1. Mix dry ingredients in a bowl.\\n2. Add milk, egg, and melted butter.\\n3. Whisk until smooth.\\n4. Cook on a greased griddle until bubbles form.\\n5. Flip and cook until golden brown.\"\n}",
          "tokenUsage": {
            "prompt": 359,
            "completion": 208,
            "total": 567
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Recipe: Simple pancakes",
          "vars": {
            "recipe_text": "Classic Pancakes\nServes 4\n\nIngredients:\n- 1 cup all-purpose flour\n- 2 tablespoons sugar\n- 1 teaspoon baking powder\n- 1 cup milk\n- 1 egg\n- 2 tablespoons melted butter\n\nInstructions:\n1. Mix dry ingredients in a bowl.\n2. Add milk, egg, and melted butter.\n3. Whisk until smooth.\n4. Cook on a greased griddle until bubbles form.\n5. Flip and cook until golden brown.\n",
            "prompt": "You are a recipe parsing assistant. Extract structured data from free-form recipe text.\n\nExtract:\n- name: The recipe title\n- servings: Number of servings (integer or null if not specified)\n- ingredients: Array of {name, quantity, description} objects\n- instructions: The cooking steps as markdown\n\nIngredient field rules:\n- name: The ingredient name only (e.g., \"flour\", \"butter\")\n- quantity: Numeric amount + unit (e.g., \"2 cups\", \"1 lb\"). Use \"Tbsp\" not \"tablespoon\", \"tsp\" not \"teaspoon\". Set to null if no specific amount.\n- description: Preparation notes (e.g., \"melted\", \"finely chopped\"). Set to null if none.\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nParse this recipe:\n---\n{{recipe_text}}\n---\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.name &&\n       json.servings === 4 &&\n       json.ingredients.length >= 5 &&\n       json.instructions.includes('1.');\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 15,
        "vars": {
          "recipe_text": "Classic Pancakes\nServes 4\n\nIngredients:\n- 1 cup all-purpose flour\n- 2 tablespoons sugar\n- 1 teaspoon baking powder\n- 1 cup milk\n- 1 egg\n- 2 tablespoons melted butter\n\nInstructions:\n1. Mix dry ingredients in a bowl.\n2. Add milk, egg, and melted butter.\n3. Whisk until smooth.\n4. Cook on a greased griddle until bubbles form.\n5. Flip and cook until golden brown.\n",
          "prompt": "You are a recipe parsing assistant. Extract structured data from free-form recipe text.\n\nExtract:\n- name: The recipe title\n- servings: Number of servings (integer or null if not specified)\n- ingredients: Array of {name, quantity, description} objects\n- instructions: The cooking steps as markdown\n\nIngredient field rules:\n- name: The ingredient name only (e.g., \"flour\", \"butter\")\n- quantity: Numeric amount + unit (e.g., \"2 cups\", \"1 lb\"). Use \"Tbsp\" not \"tablespoon\", \"tsp\" not \"teaspoon\". Set to null if no specific amount.\n- description: Preparation notes (e.g., \"melted\", \"finely chopped\"). Set to null if none.\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nParse this recipe:\n---\n{{recipe_text}}\n---\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.name &&\n       json.servings === 4 &&\n       json.ingredients.length >= 5 &&\n       json.instructions.includes('1.');\n"
              }
            }
          ]
        },
        "id": "c6185660-e95e-4a0b-a32b-45403d6a3493",
        "latencyMs": 49382,
        "namedScores": {},
        "prompt": {
          "raw": "You are a recipe parsing assistant. Extract structured data from free-form recipe text.\n\nExtract:\n- name: The recipe title\n- servings: Number of servings (integer or null if not specified)\n- ingredients: Array of {name, quantity, description} objects\n- instructions: The cooking steps as markdown\n\nIngredient field rules:\n- name: The ingredient name only (e.g., \"flour\", \"butter\")\n- quantity: Numeric amount + unit (e.g., \"2 cups\", \"1 lb\"). Use \"Tbsp\" not \"tablespoon\", \"tsp\" not \"teaspoon\". Set to null if no specific amount.\n- description: Preparation notes (e.g., \"melted\", \"finely chopped\"). Set to null if none.\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nParse this recipe:\n---\nClassic Pancakes\nServes 4\n\nIngredients:\n- 1 cup all-purpose flour\n- 2 tablespoons sugar\n- 1 teaspoon baking powder\n- 1 cup milk\n- 1 egg\n- 2 tablespoons melted butter\n\nInstructions:\n1. Mix dry ingredients in a bowl.\n2. Add milk, egg, and melted butter.\n3. Whisk until smooth.\n4. Cook on a greased griddle until bubbles form.\n5. Flip and cook until golden brown.\n---\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"name\": \"Classic Pancakes\",\n  \"servings\": 4,\n  \"ingredients\": [\n    {\n      \"name\": \"all-purpose flour\",\n      \"quantity\": \"1 cup\",\n      \"description\": null\n    },\n    {\n      \"name\": \"sugar\",\n      \"quantity\": \"2 tablespoons\",\n      \"description\": null\n    },\n    {\n      \"name\": \"baking powder\",\n      \"quantity\": \"1 teaspoon\",\n      \"description\": null\n    },\n    {\n      \"name\": \"milk\",\n      \"quantity\": \"1 cup\",\n      \"description\": null\n    },\n    {\n      \"name\": \"egg\",\n      \"quantity\": null,\n      \"description\": null\n    },\n    {\n      \"name\": \"butter\",\n      \"quantity\": \"2 tablespoons\",\n      \"description\": \"melted\"\n    }\n  ],\n  \"instructions\": \"1. Mix dry ingredients in a bowl.\\n2. Add milk, egg, and melted butter.\\n3. Whisk until smooth.\\n4. Cook on a greased griddle until bubbles form.\\n5. Flip and cook until golden brown.\"\n}",
          "tokenUsage": {
            "prompt": 363,
            "completion": 275,
            "total": 638
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Recipe: Simple pancakes",
          "vars": {
            "recipe_text": "Classic Pancakes\nServes 4\n\nIngredients:\n- 1 cup all-purpose flour\n- 2 tablespoons sugar\n- 1 teaspoon baking powder\n- 1 cup milk\n- 1 egg\n- 2 tablespoons melted butter\n\nInstructions:\n1. Mix dry ingredients in a bowl.\n2. Add milk, egg, and melted butter.\n3. Whisk until smooth.\n4. Cook on a greased griddle until bubbles form.\n5. Flip and cook until golden brown.\n",
            "prompt": "You are a recipe parsing assistant. Extract structured data from free-form recipe text.\n\nExtract:\n- name: The recipe title\n- servings: Number of servings (integer or null if not specified)\n- ingredients: Array of {name, quantity, description} objects\n- instructions: The cooking steps as markdown\n\nIngredient field rules:\n- name: The ingredient name only (e.g., \"flour\", \"butter\")\n- quantity: Numeric amount + unit (e.g., \"2 cups\", \"1 lb\"). Use \"Tbsp\" not \"tablespoon\", \"tsp\" not \"teaspoon\". Set to null if no specific amount.\n- description: Preparation notes (e.g., \"melted\", \"finely chopped\"). Set to null if none.\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nParse this recipe:\n---\n{{recipe_text}}\n---\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.name &&\n       json.servings === 4 &&\n       json.ingredients.length >= 5 &&\n       json.instructions.includes('1.');\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 15,
        "vars": {
          "recipe_text": "Classic Pancakes\nServes 4\n\nIngredients:\n- 1 cup all-purpose flour\n- 2 tablespoons sugar\n- 1 teaspoon baking powder\n- 1 cup milk\n- 1 egg\n- 2 tablespoons melted butter\n\nInstructions:\n1. Mix dry ingredients in a bowl.\n2. Add milk, egg, and melted butter.\n3. Whisk until smooth.\n4. Cook on a greased griddle until bubbles form.\n5. Flip and cook until golden brown.\n",
          "prompt": "You are a recipe parsing assistant. Extract structured data from free-form recipe text.\n\nExtract:\n- name: The recipe title\n- servings: Number of servings (integer or null if not specified)\n- ingredients: Array of {name, quantity, description} objects\n- instructions: The cooking steps as markdown\n\nIngredient field rules:\n- name: The ingredient name only (e.g., \"flour\", \"butter\")\n- quantity: Numeric amount + unit (e.g., \"2 cups\", \"1 lb\"). Use \"Tbsp\" not \"tablespoon\", \"tsp\" not \"teaspoon\". Set to null if no specific amount.\n- description: Preparation notes (e.g., \"melted\", \"finely chopped\"). Set to null if none.\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nParse this recipe:\n---\n{{recipe_text}}\n---\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nconst butterIngredient = json.ingredients.find(i =>\n  i.name.toLowerCase().includes('butter')\n);\nreturn json.name &&\n       json.ingredients.length >= 3 &&\n       butterIngredient &&\n       butterIngredient.quantity &&\n       (butterIngredient.quantity.includes('Tbsp') || butterIngredient.quantity.includes('4'));\n"
              }
            }
          ]
        },
        "id": "3edb96d4-af9f-4380-99a7-9d4e449c8d18",
        "latencyMs": 11548,
        "namedScores": {},
        "prompt": {
          "raw": "You are a recipe parsing assistant.\n\nQuantity unit standardization - ALWAYS use abbreviated forms:\n- \"Tbsp\" not \"tablespoon\" or \"tablespoons\"\n- \"tsp\" not \"teaspoon\" or \"teaspoons\"\n- \"lb\" not \"pound\" or \"pounds\"\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nParse this recipe:\n---\nGarlic Butter Shrimp\n\n1 pound large shrimp, peeled\n4 tablespoons butter\n4 cloves garlic, minced\n\nMelt butter. Add garlic. Add shrimp. Cook 3 minutes per side.\n---\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"name\": \"Garlic Butter Shrimp\",\n  \"servings\": null,\n  \"ingredients\": [\n    {\"name\": \"large shrimp\", \"quantity\": \"1 lb\", \"description\": \"peeled\"},\n    {\"name\": \"butter\", \"quantity\": \"4 Tbsp\", \"description\": null},\n    {\"name\": \"garlic\", \"quantity\": \"4 cloves\", \"description\": \"minced\"}\n  ],\n  \"instructions\": \"Melt butter. Add garlic. Add shrimp. Cook 3 minutes per side.\"\n}",
          "tokenUsage": {
            "prompt": 205,
            "completion": 115,
            "total": 320
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Recipe: Unit standardization (tablespoons to Tbsp)",
          "vars": {
            "recipe_text": "Garlic Butter Shrimp\n\n1 pound large shrimp, peeled\n4 tablespoons butter\n4 cloves garlic, minced\n\nMelt butter. Add garlic. Add shrimp. Cook 3 minutes per side.\n",
            "prompt": "You are a recipe parsing assistant.\n\nQuantity unit standardization - ALWAYS use abbreviated forms:\n- \"Tbsp\" not \"tablespoon\" or \"tablespoons\"\n- \"tsp\" not \"teaspoon\" or \"teaspoons\"\n- \"lb\" not \"pound\" or \"pounds\"\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nParse this recipe:\n---\n{{recipe_text}}\n---\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nconst butterIngredient = json.ingredients.find(i =>\n  i.name.toLowerCase().includes('butter')\n);\nreturn json.name &&\n       json.ingredients.length >= 3 &&\n       butterIngredient &&\n       butterIngredient.quantity &&\n       (butterIngredient.quantity.includes('Tbsp') || butterIngredient.quantity.includes('4'));\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 16,
        "vars": {
          "recipe_text": "Garlic Butter Shrimp\n\n1 pound large shrimp, peeled\n4 tablespoons butter\n4 cloves garlic, minced\n\nMelt butter. Add garlic. Add shrimp. Cook 3 minutes per side.\n",
          "prompt": "You are a recipe parsing assistant.\n\nQuantity unit standardization - ALWAYS use abbreviated forms:\n- \"Tbsp\" not \"tablespoon\" or \"tablespoons\"\n- \"tsp\" not \"teaspoon\" or \"teaspoons\"\n- \"lb\" not \"pound\" or \"pounds\"\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nParse this recipe:\n---\n{{recipe_text}}\n---\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nconst butterIngredient = json.ingredients.find(i =>\n  i.name.toLowerCase().includes('butter')\n);\nreturn json.name &&\n       json.ingredients.length >= 3 &&\n       butterIngredient &&\n       butterIngredient.quantity &&\n       (butterIngredient.quantity.includes('Tbsp') || butterIngredient.quantity.includes('4'));\n"
              }
            }
          ]
        },
        "id": "cbb27059-6e9d-4ea3-a743-6e2172aecce6",
        "latencyMs": 59665,
        "namedScores": {},
        "prompt": {
          "raw": "You are a recipe parsing assistant.\n\nQuantity unit standardization - ALWAYS use abbreviated forms:\n- \"Tbsp\" not \"tablespoon\" or \"tablespoons\"\n- \"tsp\" not \"teaspoon\" or \"teaspoons\"\n- \"lb\" not \"pound\" or \"pounds\"\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nParse this recipe:\n---\nGarlic Butter Shrimp\n\n1 pound large shrimp, peeled\n4 tablespoons butter\n4 cloves garlic, minced\n\nMelt butter. Add garlic. Add shrimp. Cook 3 minutes per side.\n---\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"name\": \"Garlic Butter Shrimp\",\n  \"servings\": null,\n  \"ingredients\": [\n    {\n      \"name\": \"shrimp\",\n      \"quantity\": \"1 lb\",\n      \"description\": \"large, peeled\"\n    },\n    {\n      \"name\": \"butter\",\n      \"quantity\": \"4 Tbsp\",\n      \"description\": null\n    },\n    {\n      \"name\": \"garlic\",\n      \"quantity\": \"4\",\n      \"description\": \"cloves, minced\"\n    }\n  ],\n  \"instructions\": \"Melt butter. Add garlic. Add shrimp. Cook 3 minutes per side.\"\n}",
          "tokenUsage": {
            "prompt": 194,
            "completion": 158,
            "total": 352
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Recipe: Unit standardization (tablespoons to Tbsp)",
          "vars": {
            "recipe_text": "Garlic Butter Shrimp\n\n1 pound large shrimp, peeled\n4 tablespoons butter\n4 cloves garlic, minced\n\nMelt butter. Add garlic. Add shrimp. Cook 3 minutes per side.\n",
            "prompt": "You are a recipe parsing assistant.\n\nQuantity unit standardization - ALWAYS use abbreviated forms:\n- \"Tbsp\" not \"tablespoon\" or \"tablespoons\"\n- \"tsp\" not \"teaspoon\" or \"teaspoons\"\n- \"lb\" not \"pound\" or \"pounds\"\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nParse this recipe:\n---\n{{recipe_text}}\n---\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nconst butterIngredient = json.ingredients.find(i =>\n  i.name.toLowerCase().includes('butter')\n);\nreturn json.name &&\n       json.ingredients.length >= 3 &&\n       butterIngredient &&\n       butterIngredient.quantity &&\n       (butterIngredient.quantity.includes('Tbsp') || butterIngredient.quantity.includes('4'));\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 16,
        "vars": {
          "recipe_text": "Garlic Butter Shrimp\n\n1 pound large shrimp, peeled\n4 tablespoons butter\n4 cloves garlic, minced\n\nMelt butter. Add garlic. Add shrimp. Cook 3 minutes per side.\n",
          "prompt": "You are a recipe parsing assistant.\n\nQuantity unit standardization - ALWAYS use abbreviated forms:\n- \"Tbsp\" not \"tablespoon\" or \"tablespoons\"\n- \"tsp\" not \"teaspoon\" or \"teaspoons\"\n- \"lb\" not \"pound\" or \"pounds\"\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nParse this recipe:\n---\n{{recipe_text}}\n---\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.name &&\n       json.servings === null &&\n       json.ingredients.length >= 3;\n"
              }
            }
          ]
        },
        "id": "a83d58a3-ee5a-479d-89fb-c5380368242e",
        "latencyMs": 67333,
        "namedScores": {},
        "prompt": {
          "raw": "You are a recipe parsing assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nImportant: If servings is not specified in the recipe, return null for servings.\n\nParse this recipe:\n---\nSimple Vinaigrette\n\n3 tablespoons olive oil\n1 tablespoon red wine vinegar\n1 teaspoon Dijon mustard\nSalt to taste\n\nWhisk all ingredients together until emulsified.\n---\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "{\n  \"name\": \"Simple Vinaigrette\",\n  \"servings\": null,\n  \"ingredients\": [\n    {\n      \"name\": \"olive oil\",\n      \"quantity\": \"3 tablespoons\",\n      \"description\": null\n    },\n    {\n      \"name\": \"red wine vinegar\",\n      \"quantity\": \"1 tablespoon\",\n      \"description\": null\n    },\n    {\n      \"name\": \"Dijon mustard\",\n      \"quantity\": \"1 teaspoon\",\n      \"description\": null\n    },\n    {\n      \"name\": \"salt\",\n      \"quantity\": \"to taste\",\n      \"description\": null\n    }\n  ],\n  \"instructions\": \"Whisk all ingredients together until emulsified.\"\n}",
          "tokenUsage": {
            "prompt": 151,
            "completion": 174,
            "total": 325
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Recipe: No servings specified",
          "vars": {
            "recipe_text": "Simple Vinaigrette\n\n3 tablespoons olive oil\n1 tablespoon red wine vinegar\n1 teaspoon Dijon mustard\nSalt to taste\n\nWhisk all ingredients together until emulsified.\n",
            "prompt": "You are a recipe parsing assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nImportant: If servings is not specified in the recipe, return null for servings.\n\nParse this recipe:\n---\n{{recipe_text}}\n---\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.name &&\n       json.servings === null &&\n       json.ingredients.length >= 3;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 17,
        "vars": {
          "recipe_text": "Simple Vinaigrette\n\n3 tablespoons olive oil\n1 tablespoon red wine vinegar\n1 teaspoon Dijon mustard\nSalt to taste\n\nWhisk all ingredients together until emulsified.\n",
          "prompt": "You are a recipe parsing assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nImportant: If servings is not specified in the recipe, return null for servings.\n\nParse this recipe:\n---\n{{recipe_text}}\n---\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn json.name &&\n       json.servings === null &&\n       json.ingredients.length >= 3;\n"
              }
            }
          ]
        },
        "id": "5110d4e2-4e6a-46fe-95dc-74c348bd42c9",
        "latencyMs": 86836,
        "namedScores": {},
        "prompt": {
          "raw": "You are a recipe parsing assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nImportant: If servings is not specified in the recipe, return null for servings.\n\nParse this recipe:\n---\nSimple Vinaigrette\n\n3 tablespoons olive oil\n1 tablespoon red wine vinegar\n1 teaspoon Dijon mustard\nSalt to taste\n\nWhisk all ingredients together until emulsified.\n---\n\nRespond with JSON only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "{\n  \"name\": \"Simple Vinaigrette\",\n  \"servings\": null,\n  \"ingredients\": [\n    {\"name\": \"olive oil\", \"quantity\": \"3 tablespoons\", \"description\": null},\n    {\"name\": \"red wine vinegar\", \"quantity\": \"1 tablespoon\", \"description\": null},\n    {\"name\": \"Dijon mustard\", \"quantity\": \"1 teaspoon\", \"description\": null},\n    {\"name\": \"salt\", \"quantity\": \"to taste\", \"description\": null}\n  ],\n  \"instructions\": \"Whisk all ingredients together until emulsified.\"\n}",
          "tokenUsage": {
            "prompt": 161,
            "completion": 126,
            "total": 287
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Recipe: No servings specified",
          "vars": {
            "recipe_text": "Simple Vinaigrette\n\n3 tablespoons olive oil\n1 tablespoon red wine vinegar\n1 teaspoon Dijon mustard\nSalt to taste\n\nWhisk all ingredients together until emulsified.\n",
            "prompt": "You are a recipe parsing assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nImportant: If servings is not specified in the recipe, return null for servings.\n\nParse this recipe:\n---\n{{recipe_text}}\n---\n\nRespond with JSON only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn json.name &&\n       json.servings === null &&\n       json.ingredients.length >= 3;\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 17,
        "vars": {
          "recipe_text": "Simple Vinaigrette\n\n3 tablespoons olive oil\n1 tablespoon red wine vinegar\n1 teaspoon Dijon mustard\nSalt to taste\n\nWhisk all ingredients together until emulsified.\n",
          "prompt": "You are a recipe parsing assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nImportant: If servings is not specified in the recipe, return null for servings.\n\nParse this recipe:\n---\n{{recipe_text}}\n---\n\nRespond with JSON only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn Array.isArray(json) &&\n       json.length === 3 &&\n       json.every(m => m.confidence >= 0.9);\n"
              }
            }
          ]
        },
        "id": "b040a858-2907-4ecf-8fd1-122145ce9499",
        "latencyMs": 42107,
        "namedScores": {},
        "prompt": {
          "raw": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nConsider:\n1. Exact matches (e.g., \"olive oil\" → \"olive oil\")\n2. Partial matches (e.g., \"garlic cloves\" → \"garlic\")\n3. Ingredient forms (e.g., \"fresh basil\" → \"basil\")\n4. Common substitutions shouldn't match (butter ≠ margarine)\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRules:\n- confidence >= 0.7: confident match\n- confidence 0.4-0.7: possible match\n- confidence < 0.4 or no match: set pantry_match to null\n\nRecipe ingredients: [\"olive oil\", \"salt\", \"black pepper\"]\nPantry items: [\"olive oil\", \"salt\", \"black pepper\", \"garlic\"]\n\nRespond with JSON array only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "[\n  {\"ingredient\": \"olive oil\", \"pantry_match\": \"olive oil\", \"confidence\": 1.0},\n  {\"ingredient\": \"salt\", \"pantry_match\": \"salt\", \"confidence\": 1.0},\n  {\"ingredient\": \"black pepper\", \"pantry_match\": \"black pepper\", \"confidence\": 1.0}\n]",
          "tokenUsage": {
            "prompt": 237,
            "completion": 88,
            "total": 325
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Pantry: Exact matches",
          "vars": {
            "ingredients": "[\"olive oil\", \"salt\", \"black pepper\"]",
            "pantry_items": "[\"olive oil\", \"salt\", \"black pepper\", \"garlic\"]",
            "prompt": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nConsider:\n1. Exact matches (e.g., \"olive oil\" → \"olive oil\")\n2. Partial matches (e.g., \"garlic cloves\" → \"garlic\")\n3. Ingredient forms (e.g., \"fresh basil\" → \"basil\")\n4. Common substitutions shouldn't match (butter ≠ margarine)\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRules:\n- confidence >= 0.7: confident match\n- confidence 0.4-0.7: possible match\n- confidence < 0.4 or no match: set pantry_match to null\n\nRecipe ingredients: {{ingredients}}\nPantry items: {{pantry_items}}\n\nRespond with JSON array only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn Array.isArray(json) &&\n       json.length === 3 &&\n       json.every(m => m.confidence >= 0.9);\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 18,
        "vars": {
          "ingredients": "[\"olive oil\", \"salt\", \"black pepper\"]",
          "pantry_items": "[\"olive oil\", \"salt\", \"black pepper\", \"garlic\"]",
          "prompt": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nConsider:\n1. Exact matches (e.g., \"olive oil\" → \"olive oil\")\n2. Partial matches (e.g., \"garlic cloves\" → \"garlic\")\n3. Ingredient forms (e.g., \"fresh basil\" → \"basil\")\n4. Common substitutions shouldn't match (butter ≠ margarine)\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRules:\n- confidence >= 0.7: confident match\n- confidence 0.4-0.7: possible match\n- confidence < 0.4 or no match: set pantry_match to null\n\nRecipe ingredients: {{ingredients}}\nPantry items: {{pantry_items}}\n\nRespond with JSON array only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn Array.isArray(json) &&\n       json.length === 3 &&\n       json.every(m => m.confidence >= 0.9);\n"
              }
            }
          ]
        },
        "id": "08215635-f644-4efb-ac77-d619cbecbb73",
        "latencyMs": 43576,
        "namedScores": {},
        "prompt": {
          "raw": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nConsider:\n1. Exact matches (e.g., \"olive oil\" → \"olive oil\")\n2. Partial matches (e.g., \"garlic cloves\" → \"garlic\")\n3. Ingredient forms (e.g., \"fresh basil\" → \"basil\")\n4. Common substitutions shouldn't match (butter ≠ margarine)\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRules:\n- confidence >= 0.7: confident match\n- confidence 0.4-0.7: possible match\n- confidence < 0.4 or no match: set pantry_match to null\n\nRecipe ingredients: [\"olive oil\", \"salt\", \"black pepper\"]\nPantry items: [\"olive oil\", \"salt\", \"black pepper\", \"garlic\"]\n\nRespond with JSON array only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "[\n  {\"ingredient\": \"olive oil\", \"pantry_match\": \"olive oil\", \"confidence\": 1.0},\n  {\"ingredient\": \"salt\", \"pantry_match\": \"salt\", \"confidence\": 1.0},\n  {\"ingredient\": \"black pepper\", \"pantry_match\": \"black pepper\", \"confidence\": 1.0}\n]",
          "tokenUsage": {
            "prompt": 244,
            "completion": 78,
            "total": 322
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Pantry: Exact matches",
          "vars": {
            "ingredients": "[\"olive oil\", \"salt\", \"black pepper\"]",
            "pantry_items": "[\"olive oil\", \"salt\", \"black pepper\", \"garlic\"]",
            "prompt": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nConsider:\n1. Exact matches (e.g., \"olive oil\" → \"olive oil\")\n2. Partial matches (e.g., \"garlic cloves\" → \"garlic\")\n3. Ingredient forms (e.g., \"fresh basil\" → \"basil\")\n4. Common substitutions shouldn't match (butter ≠ margarine)\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRules:\n- confidence >= 0.7: confident match\n- confidence 0.4-0.7: possible match\n- confidence < 0.4 or no match: set pantry_match to null\n\nRecipe ingredients: {{ingredients}}\nPantry items: {{pantry_items}}\n\nRespond with JSON array only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn Array.isArray(json) &&\n       json.length === 3 &&\n       json.every(m => m.confidence >= 0.9);\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 18,
        "vars": {
          "ingredients": "[\"olive oil\", \"salt\", \"black pepper\"]",
          "pantry_items": "[\"olive oil\", \"salt\", \"black pepper\", \"garlic\"]",
          "prompt": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nConsider:\n1. Exact matches (e.g., \"olive oil\" → \"olive oil\")\n2. Partial matches (e.g., \"garlic cloves\" → \"garlic\")\n3. Ingredient forms (e.g., \"fresh basil\" → \"basil\")\n4. Common substitutions shouldn't match (butter ≠ margarine)\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRules:\n- confidence >= 0.7: confident match\n- confidence 0.4-0.7: possible match\n- confidence < 0.4 or no match: set pantry_match to null\n\nRecipe ingredients: {{ingredients}}\nPantry items: {{pantry_items}}\n\nRespond with JSON array only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nconst garlicMatch = json.find(m => m.ingredient.includes('garlic'));\nreturn Array.isArray(json) &&\n       json.length === 2 &&\n       garlicMatch && garlicMatch.pantry_match === 'garlic';\n"
              }
            }
          ]
        },
        "id": "8f1a2bca-6764-43bc-900c-9b53c45742f1",
        "latencyMs": 17390,
        "namedScores": {},
        "prompt": {
          "raw": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nConsider:\n1. Exact matches (e.g., \"olive oil\" → \"olive oil\")\n2. Partial matches (e.g., \"garlic cloves\" → \"garlic\")\n3. Ingredient forms (e.g., \"fresh basil\" → \"basil\")\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRecipe ingredients: [\"garlic cloves\", \"chicken broth\"]\nPantry items: [\"garlic\", \"chicken stock\", \"olive oil\"]\n\nRespond with JSON array only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "[\n  {\n    \"ingredient\": \"garlic cloves\",\n    \"pantry_match\": \"garlic\",\n    \"confidence\": 0.8\n  },\n  {\n    \"ingredient\": \"chicken broth\",\n    \"pantry_match\": \"chicken stock\",\n    \"confidence\": 0.7\n  }\n]",
          "tokenUsage": {
            "prompt": 172,
            "completion": 82,
            "total": 254
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Pantry: Partial matches",
          "vars": {
            "ingredients": "[\"garlic cloves\", \"chicken broth\"]",
            "pantry_items": "[\"garlic\", \"chicken stock\", \"olive oil\"]",
            "prompt": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nConsider:\n1. Exact matches (e.g., \"olive oil\" → \"olive oil\")\n2. Partial matches (e.g., \"garlic cloves\" → \"garlic\")\n3. Ingredient forms (e.g., \"fresh basil\" → \"basil\")\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRecipe ingredients: {{ingredients}}\nPantry items: {{pantry_items}}\n\nRespond with JSON array only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nconst garlicMatch = json.find(m => m.ingredient.includes('garlic'));\nreturn Array.isArray(json) &&\n       json.length === 2 &&\n       garlicMatch && garlicMatch.pantry_match === 'garlic';\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 19,
        "vars": {
          "ingredients": "[\"garlic cloves\", \"chicken broth\"]",
          "pantry_items": "[\"garlic\", \"chicken stock\", \"olive oil\"]",
          "prompt": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nConsider:\n1. Exact matches (e.g., \"olive oil\" → \"olive oil\")\n2. Partial matches (e.g., \"garlic cloves\" → \"garlic\")\n3. Ingredient forms (e.g., \"fresh basil\" → \"basil\")\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRecipe ingredients: {{ingredients}}\nPantry items: {{pantry_items}}\n\nRespond with JSON array only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nconst garlicMatch = json.find(m => m.ingredient.includes('garlic'));\nreturn Array.isArray(json) &&\n       json.length === 2 &&\n       garlicMatch && garlicMatch.pantry_match === 'garlic';\n"
              }
            }
          ]
        },
        "id": "65cb19cd-847b-4e37-98cc-8ec91f28b59a",
        "latencyMs": 19187,
        "namedScores": {},
        "prompt": {
          "raw": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nConsider:\n1. Exact matches (e.g., \"olive oil\" → \"olive oil\")\n2. Partial matches (e.g., \"garlic cloves\" → \"garlic\")\n3. Ingredient forms (e.g., \"fresh basil\" → \"basil\")\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRecipe ingredients: [\"garlic cloves\", \"chicken broth\"]\nPantry items: [\"garlic\", \"chicken stock\", \"olive oil\"]\n\nRespond with JSON array only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "[\n  {\"ingredient\": \"garlic cloves\", \"pantry_match\": \"garlic\", \"confidence\": 0.8},\n  {\"ingredient\": \"chicken broth\", \"pantry_match\": \"chicken stock\", \"confidence\": 0.9}\n]",
          "tokenUsage": {
            "prompt": 182,
            "completion": 56,
            "total": 238
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Pantry: Partial matches",
          "vars": {
            "ingredients": "[\"garlic cloves\", \"chicken broth\"]",
            "pantry_items": "[\"garlic\", \"chicken stock\", \"olive oil\"]",
            "prompt": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nConsider:\n1. Exact matches (e.g., \"olive oil\" → \"olive oil\")\n2. Partial matches (e.g., \"garlic cloves\" → \"garlic\")\n3. Ingredient forms (e.g., \"fresh basil\" → \"basil\")\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRecipe ingredients: {{ingredients}}\nPantry items: {{pantry_items}}\n\nRespond with JSON array only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nconst garlicMatch = json.find(m => m.ingredient.includes('garlic'));\nreturn Array.isArray(json) &&\n       json.length === 2 &&\n       garlicMatch && garlicMatch.pantry_match === 'garlic';\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 19,
        "vars": {
          "ingredients": "[\"garlic cloves\", \"chicken broth\"]",
          "pantry_items": "[\"garlic\", \"chicken stock\", \"olive oil\"]",
          "prompt": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nConsider:\n1. Exact matches (e.g., \"olive oil\" → \"olive oil\")\n2. Partial matches (e.g., \"garlic cloves\" → \"garlic\")\n3. Ingredient forms (e.g., \"fresh basil\" → \"basil\")\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRecipe ingredients: {{ingredients}}\nPantry items: {{pantry_items}}\n\nRespond with JSON array only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn Array.isArray(json) &&\n       json.length === 2 &&\n       json.every(m => m.pantry_match === null || m.confidence < 0.5);\n"
              }
            }
          ]
        },
        "id": "e409d332-170d-405d-bbb2-8fa40b9abdfb",
        "latencyMs": 6793,
        "namedScores": {},
        "prompt": {
          "raw": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nRules:\n- confidence >= 0.7: confident match\n- confidence 0.4-0.7: possible match\n- confidence < 0.4 or no match: set pantry_match to null\n- Different items should NOT match (truffle oil ≠ olive oil)\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRecipe ingredients: [\"saffron\", \"truffle oil\"]\nPantry items: [\"olive oil\", \"salt\", \"pepper\", \"garlic\"]\n\nRespond with JSON array only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 1,
        "provider": {
          "id": "ollama:qwen2.5:7b",
          "label": "qwen2.5:7b"
        },
        "response": {
          "output": "[\n  {\"ingredient\": \"saffron\", \"pantry_match\": null, \"confidence\": 0.1},\n  {\"ingredient\": \"truffle oil\", \"pantry_match\": null, \"confidence\": 0.1}\n]",
          "tokenUsage": {
            "prompt": 186,
            "completion": 51,
            "total": 237
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Pantry: No matches available",
          "vars": {
            "ingredients": "[\"saffron\", \"truffle oil\"]",
            "pantry_items": "[\"olive oil\", \"salt\", \"pepper\", \"garlic\"]",
            "prompt": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nRules:\n- confidence >= 0.7: confident match\n- confidence 0.4-0.7: possible match\n- confidence < 0.4 or no match: set pantry_match to null\n- Different items should NOT match (truffle oil ≠ olive oil)\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRecipe ingredients: {{ingredients}}\nPantry items: {{pantry_items}}\n\nRespond with JSON array only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn Array.isArray(json) &&\n       json.length === 2 &&\n       json.every(m => m.pantry_match === null || m.confidence < 0.5);\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 20,
        "vars": {
          "ingredients": "[\"saffron\", \"truffle oil\"]",
          "pantry_items": "[\"olive oil\", \"salt\", \"pepper\", \"garlic\"]",
          "prompt": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nRules:\n- confidence >= 0.7: confident match\n- confidence 0.4-0.7: possible match\n- confidence < 0.4 or no match: set pantry_match to null\n- Different items should NOT match (truffle oil ≠ olive oil)\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRecipe ingredients: {{ingredients}}\nPantry items: {{pantry_items}}\n\nRespond with JSON array only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      },
      {
        "cost": 0,
        "gradingResult": {
          "pass": true,
          "score": 1,
          "reason": "All assertions passed",
          "namedScores": {},
          "tokensUsed": {
            "total": 0,
            "prompt": 0,
            "completion": 0,
            "cached": 0,
            "numRequests": 0
          },
          "componentResults": [
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "is-json"
              }
            },
            {
              "pass": true,
              "score": 1,
              "reason": "Assertion passed",
              "assertion": {
                "type": "javascript",
                "value": "const json = JSON.parse(output);\nreturn Array.isArray(json) &&\n       json.length === 2 &&\n       json.every(m => m.pantry_match === null || m.confidence < 0.5);\n"
              }
            }
          ]
        },
        "id": "9828285e-b4dc-4230-beab-42d0d6122e44",
        "latencyMs": 23660,
        "namedScores": {},
        "prompt": {
          "raw": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nRules:\n- confidence >= 0.7: confident match\n- confidence 0.4-0.7: possible match\n- confidence < 0.4 or no match: set pantry_match to null\n- Different items should NOT match (truffle oil ≠ olive oil)\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRecipe ingredients: [\"saffron\", \"truffle oil\"]\nPantry items: [\"olive oil\", \"salt\", \"pepper\", \"garlic\"]\n\nRespond with JSON array only.",
          "label": "{{prompt}}"
        },
        "promptId": "effa18501e44aafd9bc42a2f64ffc9b6350f94025520ca2ed382f9bdc4b6e982",
        "promptIdx": 0,
        "provider": {
          "id": "ollama:gemma3:12b",
          "label": "gemma3:12b"
        },
        "response": {
          "output": "[\n  {\n    \"ingredient\": \"saffron\",\n    \"pantry_match\": null,\n    \"confidence\": 0.1\n  },\n  {\n    \"ingredient\": \"truffle oil\",\n    \"pantry_match\": null,\n    \"confidence\": 0.1\n  }\n]",
          "tokenUsage": {
            "prompt": 176,
            "completion": 79,
            "total": 255
          }
        },
        "score": 1,
        "success": true,
        "testCase": {
          "description": "Pantry: No matches available",
          "vars": {
            "ingredients": "[\"saffron\", \"truffle oil\"]",
            "pantry_items": "[\"olive oil\", \"salt\", \"pepper\", \"garlic\"]",
            "prompt": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nRules:\n- confidence >= 0.7: confident match\n- confidence 0.4-0.7: possible match\n- confidence < 0.4 or no match: set pantry_match to null\n- Different items should NOT match (truffle oil ≠ olive oil)\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRecipe ingredients: {{ingredients}}\nPantry items: {{pantry_items}}\n\nRespond with JSON array only.\n"
          },
          "assert": [
            {
              "type": "is-json"
            },
            {
              "type": "javascript",
              "value": "const json = JSON.parse(output);\nreturn Array.isArray(json) &&\n       json.length === 2 &&\n       json.every(m => m.pantry_match === null || m.confidence < 0.5);\n"
            }
          ],
          "options": {
            "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
          },
          "metadata": {}
        },
        "testIdx": 20,
        "vars": {
          "ingredients": "[\"saffron\", \"truffle oil\"]",
          "pantry_items": "[\"olive oil\", \"salt\", \"pepper\", \"garlic\"]",
          "prompt": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nRules:\n- confidence >= 0.7: confident match\n- confidence 0.4-0.7: possible match\n- confidence < 0.4 or no match: set pantry_match to null\n- Different items should NOT match (truffle oil ≠ olive oil)\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRecipe ingredients: {{ingredients}}\nPantry items: {{pantry_items}}\n\nRespond with JSON array only.\n"
        },
        "metadata": {
          "_promptfooFileMetadata": {}
        },
        "failureReason": 0
      }
    ],
    "stats": {
      "successes": 42,
      "failures": 0,
      "errors": 0,
      "tokenUsage": {
        "prompt": 8676,
        "completion": 2770,
        "cached": 0,
        "total": 11446,
        "numRequests": 42,
        "completionDetails": {
          "reasoning": 0,
          "acceptedPrediction": 0,
          "rejectedPrediction": 0
        },
        "assertions": {
          "total": 0,
          "prompt": 0,
          "completion": 0,
          "cached": 0,
          "numRequests": 0,
          "completionDetails": {
            "reasoning": 0,
            "acceptedPrediction": 0,
            "rejectedPrediction": 0
          }
        }
      },
      "durationMs": 227161
    }
  },
  "config": {
    "tags": {},
    "description": "LLM Model Comparison: gemma3:12b vs qwen2.5:7b",
    "prompts": [
      "{{prompt}}"
    ],
    "providers": [
      {
        "id": "ollama:gemma3:12b",
        "label": "gemma3:12b",
        "config": {
          "temperature": 0.1,
          "num_predict": 2048
        }
      },
      {
        "id": "ollama:qwen2.5:7b",
        "label": "qwen2.5:7b",
        "config": {
          "temperature": 0.1,
          "num_predict": 2048
        }
      }
    ],
    "tests": [
      {
        "description": "Voice: Simple addition",
        "vars": {
          "voice_text": "add milk to costco",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nCommon patterns:\n- \"add milk to costco list\" → {\"action\": \"add\", \"list_name\": \"costco\", \"items\": [\"milk\"]}\n- \"add apples and bananas to walmart\" → {\"action\": \"add\", \"list_name\": \"walmart\", \"items\": [\"apples\", \"bananas\"]}\n- \"remove eggs from todo list\" → {\"action\": \"remove\", \"list_name\": \"todo\", \"items\": [\"eggs\"]}\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'costco' &&\n       json.items.some(i => i.toLowerCase().includes('milk'));\n"
          }
        ]
      },
      {
        "description": "Voice: Multiple items",
        "vars": {
          "voice_text": "add apples bananas and oranges to walmart",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'walmart' &&\n       json.items.length >= 3;\n"
          }
        ]
      },
      {
        "description": "Voice: Fuzzy list matching",
        "vars": {
          "voice_text": "add eggs to the costco list",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'costco';\n"
          }
        ]
      },
      {
        "description": "Voice: Remove action",
        "vars": {
          "voice_text": "remove bread from shopping list",
          "available_lists": "\"Costco\", \"Walmart\", \"Shopping List\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.action === 'remove' &&\n       json.items.some(i => i.toLowerCase().includes('bread'));\n"
          }
        ]
      },
      {
        "description": "Voice: Default to todo list",
        "vars": {
          "voice_text": "add butter",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'todo';\n"
          }
        ]
      },
      {
        "description": "Voice: Compound items",
        "vars": {
          "voice_text": "add olive oil and balsamic vinegar to costco",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.action === 'add' && json.items.length === 2;\n"
          }
        ]
      },
      {
        "description": "Voice: Natural language phrasing",
        "vars": {
          "voice_text": "I need to pick up some chicken breast and ground beef at walmart",
          "available_lists": "\"Costco\", \"Walmart\", \"Todo\"",
          "prompt": "You are a shopping list assistant. Parse voice input into structured todo items.\n\nExtract:\n- list_name: which list (e.g., \"costco\", \"walmart\", \"todo\")\n- items: array of item names\n- action: \"add\" or \"remove\"\n\nRespond ONLY with valid JSON matching this schema:\n{\n  \"action\": \"add\" | \"remove\",\n  \"list_name\": \"string\",\n  \"items\": [\"string\", ...]\n}\n\nParse this voice input: \"{{voice_text}}\"\n\nAvailable lists: {{available_lists}}\n\nIf the list name doesn't match exactly, use fuzzy matching (e.g., \"costco\" matches \"Costco\").\nIf no list is mentioned, use \"todo\" as default.\n\nRespond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.action === 'add' &&\n       json.list_name.toLowerCase() === 'walmart' &&\n       json.items.length >= 2;\n"
          }
        ]
      },
      {
        "description": "Category: Clear dairy (milk)",
        "vars": {
          "item_name": "milk",
          "categories": "- ID 1: Dairy (past items: yogurt, cheese, butter, cream)\n- ID 2: Produce (past items: apples, lettuce, tomatoes, bananas)\n- ID 3: Pantry (past items: rice, pasta, olive oil, canned beans)\n- ID 4: Meat (past items: chicken breast, ground beef, bacon)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nGiven an item name, list of categories with their historical items, suggest the best category.\n\nConsider:\n1. Historical patterns (items previously in each category)\n2. Semantic similarity (e.g., \"milk\" goes with \"dairy\")\n3. Store layout context (categories are often store sections)\n\nImportant distinctions:\n- PANTRY: Dried spices, dried herbs, and seasonings, canned goods, dry goods, oils, vinegars\n- PRODUCE: Fresh fruits, fresh vegetables, fresh herbs only if specified as \"fresh\"\n- When ambiguous (e.g., \"coriander\" without \"fresh\"), prefer Pantry for herbs/spices\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nIf confidence < 0.5, set category_id to null for manual confirmation.\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.category_id === 1 && json.confidence >= 0.7;\n"
          }
        ]
      },
      {
        "description": "Category: Clear produce (bananas)",
        "vars": {
          "item_name": "bananas",
          "categories": "- ID 1: Dairy (past items: milk, yogurt, cheese)\n- ID 2: Produce (past items: apples, lettuce, tomatoes)\n- ID 3: Pantry (past items: rice, pasta, olive oil)\n- ID 4: Meat (past items: chicken, beef, pork)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.category_id === 2 && json.confidence >= 0.7;\n"
          }
        ]
      },
      {
        "description": "Category: Dried herb to Pantry (oregano)",
        "vars": {
          "item_name": "oregano",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce, fresh basil)\n- ID 3: Pantry (past items: paprika, cumin, cinnamon, olive oil)\n- ID 4: Meat (past items: chicken, beef)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nImportant: Dried spices and herbs (oregano, paprika, cumin) go in Pantry. Only \"fresh X\" goes in Produce.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.category_id === 3;\n"
          }
        ]
      },
      {
        "description": "Category: Fresh herb to Produce",
        "vars": {
          "item_name": "fresh basil",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce, tomatoes, fresh cilantro)\n- ID 3: Pantry (past items: dried basil, oregano, cumin)\n- ID 4: Meat (past items: chicken, beef)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nImportant: Items labeled \"fresh X\" go in Produce. Dried herbs go in Pantry.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.category_id === 2;\n"
          }
        ]
      },
      {
        "description": "Category: Ambiguous herb prefers Pantry (coriander)",
        "vars": {
          "item_name": "coriander",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, fresh cilantro)\n- ID 3: Pantry (past items: cumin, paprika, dried herbs)\n- ID 4: Meat (past items: chicken, beef)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nImportant: When herb name is ambiguous (no \"fresh\" qualifier), prefer Pantry since dried is more common on shopping lists.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.category_id === 3;\n"
          }
        ]
      },
      {
        "description": "Category: Meat item (chicken thighs)",
        "vars": {
          "item_name": "chicken thighs",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: apples, lettuce)\n- ID 3: Pantry (past items: rice, pasta)\n- ID 4: Meat (past items: chicken breast, ground beef, pork chops)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.category_id === 4 && json.confidence >= 0.7;\n"
          }
        ]
      },
      {
        "description": "Category: Oil to Pantry",
        "vars": {
          "item_name": "avocado oil",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: avocado, lettuce)\n- ID 3: Pantry (past items: olive oil, vegetable oil, coconut oil)\n- ID 4: Meat (past items: chicken, beef)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nImportant: Oils go in Pantry, not Produce (even if derived from produce items).\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.category_id === 3 && json.confidence >= 0.7;\n"
          }
        ]
      },
      {
        "description": "Category: Canned goods to Pantry",
        "vars": {
          "item_name": "canned tomatoes",
          "categories": "- ID 1: Dairy (past items: milk, cheese)\n- ID 2: Produce (past items: fresh tomatoes, lettuce)\n- ID 3: Pantry (past items: canned beans, canned corn, rice)\n- ID 4: Meat (past items: chicken, beef)\n",
          "prompt": "You are a shopping list categorization assistant.\n\nImportant: Canned goods go in Pantry, not Produce (even if the item is a vegetable).\n\nRespond ONLY with valid JSON:\n{\n  \"category_id\": number | null,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"brief explanation\"\n}\n\nItem to categorize: \"{{item_name}}\"\n\nAvailable categories:\n{{categories}}\n\nWhich category best fits this item? Respond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.category_id === 3 && json.confidence >= 0.7;\n"
          }
        ]
      },
      {
        "description": "Recipe: Simple pancakes",
        "vars": {
          "recipe_text": "Classic Pancakes\nServes 4\n\nIngredients:\n- 1 cup all-purpose flour\n- 2 tablespoons sugar\n- 1 teaspoon baking powder\n- 1 cup milk\n- 1 egg\n- 2 tablespoons melted butter\n\nInstructions:\n1. Mix dry ingredients in a bowl.\n2. Add milk, egg, and melted butter.\n3. Whisk until smooth.\n4. Cook on a greased griddle until bubbles form.\n5. Flip and cook until golden brown.\n",
          "prompt": "You are a recipe parsing assistant. Extract structured data from free-form recipe text.\n\nExtract:\n- name: The recipe title\n- servings: Number of servings (integer or null if not specified)\n- ingredients: Array of {name, quantity, description} objects\n- instructions: The cooking steps as markdown\n\nIngredient field rules:\n- name: The ingredient name only (e.g., \"flour\", \"butter\")\n- quantity: Numeric amount + unit (e.g., \"2 cups\", \"1 lb\"). Use \"Tbsp\" not \"tablespoon\", \"tsp\" not \"teaspoon\". Set to null if no specific amount.\n- description: Preparation notes (e.g., \"melted\", \"finely chopped\"). Set to null if none.\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nParse this recipe:\n---\n{{recipe_text}}\n---\n\nRespond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.name &&\n       json.servings === 4 &&\n       json.ingredients.length >= 5 &&\n       json.instructions.includes('1.');\n"
          }
        ]
      },
      {
        "description": "Recipe: Unit standardization (tablespoons to Tbsp)",
        "vars": {
          "recipe_text": "Garlic Butter Shrimp\n\n1 pound large shrimp, peeled\n4 tablespoons butter\n4 cloves garlic, minced\n\nMelt butter. Add garlic. Add shrimp. Cook 3 minutes per side.\n",
          "prompt": "You are a recipe parsing assistant.\n\nQuantity unit standardization - ALWAYS use abbreviated forms:\n- \"Tbsp\" not \"tablespoon\" or \"tablespoons\"\n- \"tsp\" not \"teaspoon\" or \"teaspoons\"\n- \"lb\" not \"pound\" or \"pounds\"\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nParse this recipe:\n---\n{{recipe_text}}\n---\n\nRespond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nconst butterIngredient = json.ingredients.find(i =>\n  i.name.toLowerCase().includes('butter')\n);\nreturn json.name &&\n       json.ingredients.length >= 3 &&\n       butterIngredient &&\n       butterIngredient.quantity &&\n       (butterIngredient.quantity.includes('Tbsp') || butterIngredient.quantity.includes('4'));\n"
          }
        ]
      },
      {
        "description": "Recipe: No servings specified",
        "vars": {
          "recipe_text": "Simple Vinaigrette\n\n3 tablespoons olive oil\n1 tablespoon red wine vinegar\n1 teaspoon Dijon mustard\nSalt to taste\n\nWhisk all ingredients together until emulsified.\n",
          "prompt": "You are a recipe parsing assistant.\n\nRespond ONLY with valid JSON:\n{\n  \"name\": \"string\",\n  \"servings\": number | null,\n  \"ingredients\": [{\"name\": \"string\", \"quantity\": \"string | null\", \"description\": \"string | null\"}, ...],\n  \"instructions\": \"markdown string\"\n}\n\nImportant: If servings is not specified in the recipe, return null for servings.\n\nParse this recipe:\n---\n{{recipe_text}}\n---\n\nRespond with JSON only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn json.name &&\n       json.servings === null &&\n       json.ingredients.length >= 3;\n"
          }
        ]
      },
      {
        "description": "Pantry: Exact matches",
        "vars": {
          "ingredients": "[\"olive oil\", \"salt\", \"black pepper\"]",
          "pantry_items": "[\"olive oil\", \"salt\", \"black pepper\", \"garlic\"]",
          "prompt": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nConsider:\n1. Exact matches (e.g., \"olive oil\" → \"olive oil\")\n2. Partial matches (e.g., \"garlic cloves\" → \"garlic\")\n3. Ingredient forms (e.g., \"fresh basil\" → \"basil\")\n4. Common substitutions shouldn't match (butter ≠ margarine)\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRules:\n- confidence >= 0.7: confident match\n- confidence 0.4-0.7: possible match\n- confidence < 0.4 or no match: set pantry_match to null\n\nRecipe ingredients: {{ingredients}}\nPantry items: {{pantry_items}}\n\nRespond with JSON array only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn Array.isArray(json) &&\n       json.length === 3 &&\n       json.every(m => m.confidence >= 0.9);\n"
          }
        ]
      },
      {
        "description": "Pantry: Partial matches",
        "vars": {
          "ingredients": "[\"garlic cloves\", \"chicken broth\"]",
          "pantry_items": "[\"garlic\", \"chicken stock\", \"olive oil\"]",
          "prompt": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nConsider:\n1. Exact matches (e.g., \"olive oil\" → \"olive oil\")\n2. Partial matches (e.g., \"garlic cloves\" → \"garlic\")\n3. Ingredient forms (e.g., \"fresh basil\" → \"basil\")\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRecipe ingredients: {{ingredients}}\nPantry items: {{pantry_items}}\n\nRespond with JSON array only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nconst garlicMatch = json.find(m => m.ingredient.includes('garlic'));\nreturn Array.isArray(json) &&\n       json.length === 2 &&\n       garlicMatch && garlicMatch.pantry_match === 'garlic';\n"
          }
        ]
      },
      {
        "description": "Pantry: No matches available",
        "vars": {
          "ingredients": "[\"saffron\", \"truffle oil\"]",
          "pantry_items": "[\"olive oil\", \"salt\", \"pepper\", \"garlic\"]",
          "prompt": "You are a kitchen pantry assistant. Match recipe ingredients to pantry items.\n\nRules:\n- confidence >= 0.7: confident match\n- confidence 0.4-0.7: possible match\n- confidence < 0.4 or no match: set pantry_match to null\n- Different items should NOT match (truffle oil ≠ olive oil)\n\nRespond ONLY with valid JSON - an array with one object per ingredient:\n[\n  {\"ingredient\": \"string\", \"pantry_match\": \"string\" | null, \"confidence\": 0.0-1.0}\n]\n\nRecipe ingredients: {{ingredients}}\nPantry items: {{pantry_items}}\n\nRespond with JSON array only.\n"
        },
        "assert": [
          {
            "type": "is-json"
          },
          {
            "type": "javascript",
            "value": "const json = JSON.parse(output);\nreturn Array.isArray(json) &&\n       json.length === 2 &&\n       json.every(m => m.pantry_match === null || m.confidence < 0.5);\n"
          }
        ]
      }
    ],
    "scenarios": [],
    "env": {},
    "defaultTest": {
      "options": {
        "transform": "let text = output.trim();\nif (text.startsWith('```json')) {\n  text = text.slice(7);\n} else if (text.startsWith('```')) {\n  text = text.slice(3);\n}\nif (text.endsWith('```')) {\n  text = text.slice(0, -3);\n}\nreturn text.trim();\n"
      },
      "vars": {},
      "assert": [],
      "metadata": {}
    },
    "outputPath": [
      "./results/eval-results.json"
    ],
    "extensions": [],
    "metadata": {},
    "evaluateOptions": {}
  },
  "shareableUrl": null,
  "metadata": {
    "promptfooVersion": "0.120.8",
    "nodeVersion": "v22.11.0",
    "platform": "linux",
    "arch": "x64",
    "exportedAt": "2025-12-31T17:18:39.869Z",
    "evaluationCreatedAt": "2025-12-31T17:14:49.158Z"
  }
}
